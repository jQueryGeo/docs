<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>append | geomap</title>
  <meta name="description" content="geomap append method">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="append" class="container">
    <div data-role="header" data-theme="e">
      <h1>append</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>return type</th>
          <td>jQuery collection</td>
        </tr>
        <tr>
          <th>syntax</th>
          <td>.geomap( &quot;append&quot;, Object shape ( <a href="http://geojson.org/geojson-spec.html" rel="external">GeoJSON object</a> ) | Array&lt;Object&gt; shapes [ , Object style ( geomap style ) ] [ , String label ] [ , Boolean refresh ] )</td>
        </tr>
        <tr>
          <th>usage</th>
          <td><pre><span class="comment">// a single point, no style, no label, refresh immediately</span>
$(<i>map or service selector</i>).geomap( &quot;append&quot;, { type: &quot;Point&quot;, coordinates: [ -71, 40 ] } )

<span class="comment">// a single line, don't refresh yet</span>
$(<i>map or service selector</i>).geomap( &quot;append&quot;, {
  type: &quot;LineString&quot;,
  coordinates: [ [ -71, 40 ], [ -71.5, 41 ] ]
}, false )

<span class="comment">// a polygon with a style</span>
$(<i>map or service selector</i>).geomap( &quot;append&quot;, {
  type: &quot;Polygon&quot;,
  coordinates: [ [ 
    [-75, 39.7],
    [-74.8, 39.3],
    [-75.2, 39.3],
    [-75, 39.7]
  ] ]
}, { stroke: &quot;#11117f&quot;, strokeWidth: &quot;3px&quot; } )

<span class="comment">// an array of geometry objects with a style, don't refresh yet</span>
$(<i>map or service selector</i>).geomap( &quot;append&quot;, [ 
  { type: &quot;Point&quot;, coordinates: [ -71, 40 ] },
  { type: &quot;Point&quot;, coordinates: [ -70, 39.5 ] },
], { color: &quot;green&quot;, strokeWidth: &quot;3px&quot; }, false )

<span class="comment">// a point feature with a label</span>
$(<i>map or service selector</i>).geomap( &quot;append&quot;, {
  type: &quot;Feature&quot;,
  geometry: {
    type: &quot;Point&quot;,
    coordinates: [ -71, 40 ]
  }
}, &quot;My Point&quot; )

<span class="comment">// a point with a label, don't refresh yet</span>
$(<i>map or service selector</i>).geomap( &quot;append&quot;, { type: &quot;Point&quot;, coordinates: [ -71, 40 ] }, &quot;My Point (don't refresh yet)&quot;, false )

<span class="comment">// a point with a style &amp; label</span>
$(<i>map or service selector</i>).geomap( &quot;append&quot;, { type: &quot;Point&quot;, coordinates: [ -71, 40 ] }, { color: &quot;#00f&quot; }, &quot;Blue Point&quot; )

<span class="comment">// a collection of features with a style, each point will get a separate label, don't refresh yet</span>
$(<i>map or service selector</i>).geomap( &quot;append&quot;, {
    type: &quot;FeatureCollection&quot;
    features: [ {
      type: &quot;Feature&quot;,
      geometry: {
        type: &quot;Point&quot;,
        coordinates: [ -71, 40 ]
      }
    }, {
      type: &quot;Feature&quot;,
      geometry: {
        type: &quot;Point&quot;,
        coordinates: [ -71.2, 40.3 ]
      }
    } ]
  },
  { color: &quot;#00f&quot; },
  '&lt;span style=&quot;color: #44f;&quot;&gt;Blue Point&lt;/span&gt;',
  false
)</pre></td>
        </tr>
      </table>

      <p>The append method adds one shape or an array of shapes to the map. In this documentation, the word shape means a GeoJSON geometry object or a GeoJSON Feature. A FeatureCollection is treated as an array of shapes.</p>
      
      <p>When you append more than one shape by using an array or a FeatureCollection, each shape in the array or FeatureCollection's features property is added as a separate shape whereas the other collection geometry types, e.g., MultiPoint, are added as a single shape. This is an important distinction when considering the find method and labels. The find method can potentially return only one shape from an array or one feature of a FeatureCollection but will return all shapes in a MultiPoint (as a reference to the original MultiPoint object supplied to append) even if only one of the coordinates in the MultiPoint intersects the find position. For labeling, each shape in an array and each feature in a FeatureCollection get their own label, however all polygons in a MultiPolygon will share the same label.</p>

      <p>The geomap widget maintains a reference to your shape. You can use the same object in calls to remove in order to remove the shape from the map at any time.</p>

      <p>The jQuery UI widget factory returns the original jQuery collection to maintain call chaining.</p>

      <!--<p>geomap draws shapes ordered by geometry type and then by order of addition. It draws Polygon shapes first followed by LineString and finally Point shapes. </p>-->

      <h2>styling</h2>

      <p>The optional style argument modifies how geomap draws the specific geometry or feature you are adding. Properties supplied in this style will override ones of the same name in geomap&#39;s base shapeStyle. Properties not referenced are inheritied from the base style and can change with future changes to the shapeStyle option. Please see the shapeStyle method documentation for information about what properties are valid for this object.</p>

      <h2>labeling</h2>

      <p>The optional label argument will display a label near the shape. Labels are a powerful way to add text, pixel-based graphics, or other HTML and CSS effects to the map. The label string can be any text or HTML. For example, consider the following:</p>

      <ul>
        <li>
          <span>you append a Point shape setting its style to have zero for width and height:</span>
          <pre>{ width: &quot;0px&quot;, height: &quot;0px&quot; }</pre>
        </li>

        <li>
          <span>you also supply a label of nothing more than a div element with a class:</span>
          <pre>'&lt;div class=&quot;marker&quot;&gt;&lt;/div&gt;'</pre>
        </li>

        <li>
          <span>in a CSS style sheet, you give the marker class a width, height, background image and negative relative position:</span>
          <pre>.marker
{
  width: 8px;
  height: 8px;
  background: url(../img/marker.png);
  position: relative;
  left: -4px;
  top: -4px;
}</pre>
        </li>
      </ul>

      <p>In the above example, marker.png will be centered on every point added with a similar label. The regular shape style will not show because the point style has no size.</p>

      <p>For Point shapes, the top-left of the label is positioned at the Point's only coordinate. For LineString shapes, the label is usually positioned 50% along the shape but will be forced into view if its usual position is out of the map's current bbox. For Polygon shapes, the label is usually positioned at the centroid but will be forced into view if its usual position is out of the map's current bbox. All other non-basic shape types use the shape's centroid.</p>

      <p>The geomap widget uses a div to position the labels. The div exists inside a container for the service. The div has the CSS class: geo-label. You can use this design to apply regular CSS style to all labels or all labels within a service. The following snippets show examples of using this, assuming the main map div has the id &quot;map&quot; and the default map service (which has the CSS class &quot;osm&quot;) has not been changed.</p>

      <h3>JavaScript</h3>

      <pre><span class="comment">/* add a point to the map itself */</span>
$( &quot;#map&quot; ).geomap( &quot;append&quot;, { type: &quot;Point&quot;, coordinates: [ -71, 40 ] }, &quot;map point&quot; );

<span class="comment">/* add a point to the default map service */</span>
$( &quot;#map .osm&quot; ).geomap( &quot;append&quot;, { type: &quot;Point&quot;, coordinates: [ -70, 40 ] }, &quot;service point&quot; );
</pre>

      <h3>CSS</h3>

      <pre><span class="comment">/* turn the color of all labels blue */</span>
#map .geo-label { color: blue; }

<span class="comment">/* make labels on the default basemap service bold */</span>
#map .osm .geo-label { font-weight: bold; }</pre>

      <p>One caveat is that, to keep performance high, jQuery Geo will not create the .geo-label container if you do not at least pass an empty string as the label. So, if you want to do something similar to the marker example above, but using the already provided .geo-label div, you will need to pass an empty string as the label.</p>
      
      <p>Each .geo-label div is absolutely positioned to the correct location in the map view. Please keep that in mind because changing the position, left or top CSS properties on the .geo-label class may affect your labels drastically.</p>

      <h2>clickable label links</h2>

      <p>Shapes appended to the primary map element (as opposed to service-level shapes mentioned below) can have clickable link elements. This means, if you include an &quot;a&quot; element in the label for a shape appended to your map, users can click that link. This also means that the link elements interfere with map interaction, so be careful how your design your labels because they can stop users from panning while hovering over a clickable label link.</p>

      <p>Due to browser inconsistencies, sometimes links in service-level shape labels can be clicked. However, since this behavior is not consistent, you should not rely on it.</p>

      <pre><span class="comment">// users can click the link in this shape's label</span>
$( &quot;#map&quot; ).geomap( &quot;append&quot;, { type: &quot;Point&quot;, coordinates: [ -71, 40 ] }, &quot;&lt;a href='info.html'&gt;More info&lt;/a&gt;&quot; );

<span class="comment">// users cannot click the link in this service-level shape's label</span>
$( &quot;#map .osm&quot; ).geomap( &quot;append&quot;, { type: &quot;Point&quot;, coordinates: [ -71, 40 ] }, &quot;&lt;a href='info.html'&gt;More info&lt;/a&gt;&quot; );</pre>

      <p><b>Note:</b> If you display non-map content over the map div, links in the shape labels will show through that content unless you give your overlay content a z-index greater than 1.</p>

      <h2>delaying refresh</h2>

      <p>The optional refresh argument determines if geomap refreshes the map graphics after this call to append. It defaults to true. If you pass false, geomap will add the shape internally but not immediately redraw the graphics. The changes will display if the user moves the map or you call geomap's refresh method.</p>
      <h2>service-level shapes</h2>
      <p>The geomap widget allows you to append a shape to a specific service. You do this by targeting a service inside a map instead of the map itself for your call to geomap's append method. For example, the default map service has the CSS class: osm. We can append a shape to that service specifically by using jQuery to target the service:</p>
      <pre>$( &quot;#map .osm&quot; ).geomap( &quot;append&quot;, shape );</pre>
      <p>Some of the important advantages with this syntax are:</p>
      <ul>
        <li>you can show or hide shapes as you toggle a service because shapes attached to a service are only visible if the service is visible</li>
        <li>service-level shapes draw in the order of their service in the <a href="services.html">services option</a> which gives you finer control over how they look</li>
        <li>shapes on the map itself always draw above service-level shapes</li>
        <li>you can style shapes differently depending on their service using a service-level <a href="shapeStyle.html">shapeStyle option</a></li>
      </ul>
      <h2>duplicate shapes</h2>
      <p>You can add the same GeoJSON object to more than one service, which allows you to give the same object two different styles at the same time. To do this, call append twice with the same object. Once on one service (or the map itself) and a second time on a different service.</p>
      <p>You can also do this at the same time by using the comma selector in one call to append:</p>
      <pre><span class="comment">// set the basemap service's shapeStyle option to a white halo effect</span>
$( &quot;#map .osm&quot; ).geomap( &quot;option&quot;, &quot;shapeStyle&quot;, { strokeWidth: &quot;8px&quot;, color: &quot;#dedede&quot; } );

<span class="comment">// append the shape to both the map widget and basemap service</span>
$( &quot;#map,#map .osm&quot; ).geomap( &quot;append&quot;, shape );</pre>
      <h2>updating</h2>
      <p>If you attempt to add a shape to the map or a service where it already exists, the shape will remain but you will update (or remove) the shape's style or label.</p>
      <pre><span class="comment">// add the shape with a green color</span>
$( &quot;#map&quot; ).append( shape, { color: &quot;green&quot; } );

<span class="comment">// change the color to blue (shape is the same object as before in this case)</span>
$( &quot;#map&quot; ).append( shape, { color: &quot;blue&quot; } );</pre>
      <p>Changing the type of geometry, e.g., from Point to LineString, or coordinates of a shape you have appended is not recommended and geomap's behavior is currently undefined. If you wish to do either of these, you should first call remove on the original object and append on a new one.</p>
      <!--<p>The following odd example will move the first coordinate of any clicked LineString 10 meters to the left. Notice it first removes the shape, then updates the first coordinate and finally appends the new shape.</p>
      <pre>var map = $( &quot;#map&quot; ).geomap( {
  click: function(e, geo) {
    <span class="comment">// find any shapes within 4 pixels of the clicked point</span>
    var shapes = map.geomap(&quot;find&quot;, geo, 4);
    if (shapes.length &gt; 0 &amp;&amp; shapes[0].type == &quot;LineString&quot;) {
      map.geomap("remove", shapes[0]);
      <span class="comment">// move the first point in the line 10 meters to the left</span>
      <span class="comment">// you can edit the coordinates directly since you've removed the shape</span>

      <span class="comment">// we use proj because we want to temporarily work in meters</span>
      var firstCoord = $.geo.proj.fromGeodetic(shapes[0].coordinates[0]);
      <span class="comment">// firstCoord[0] is the x axis</span>
      firstCoord[0] -= 10;
      <span class="comment">// we need to convert it back to geodetic (lon/lat)</span>
      shapes[0].coordinates[0] = $.geo.proj.toGeodetic(firstCoord);
      <span class="comment">// re-append the shape</span>
      map.geomap( &quot;append&quot;, shapes[0] );
    }
  }
} );</pre>-->
 
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>axisLayout | geomap</title>
  <meta name="description" content="geomap axisLayout option">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="axisLayout" class="container">
    <div data-role="header" data-theme="f">
      <h1>axisLayout</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>String</td>
        </tr>
        <tr>
          <th>default</th>
          <td>&quot;map&quot;</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( { axisLayout: &quot;map&quot; } );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var axisLayout = $( <i>selector</i> ).geomap( &quot;option&quot;, &quot;axisLayout&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><pre>$( <i>selector</i> ).geomap( &quot;option&quot;, &quot;axisLayout&quot;, &quot;image&quot; );</pre></td>
        </tr>
      </table>
      <p>The axisLayout option determines direction of the coordinate system axes. It can be &quot;map&quot; or &quot;image&quot;.</p>
      <p>Maps have a traditional mathematical coordinate system where the ordinate-axis (y-axis) points up. However, graphical images flip the y-axis so that moving down increases in value, which is appropriate in graphic contexts. This is important when you are connecting to a service supplying non-georeferenced (computer graphic) images and want your map control to match that coordinate system layout.</p>
      <p>You will rarely have to change this unless you are using an graphic image server such as LizardTech Image Server or you just want to use the geomap widget to draw pixel-oriented graphics.</p>
      <p>This option will affect pixel-to-map coordinate calculation for all service types, i.e., tiled &amp; shingled services.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>bbox | geomap</title>
  <meta name="description" content="geomap bbox property">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="bbox" class="container">
    <div data-role="header" data-theme="f">
      <h1>bbox</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>Array ( <a href="http://geojson.org/geojson-spec.html#bounding-boxes" rel="external">GeoJSON bounding box</a> )</td>
        </tr>
        <tr>
          <th>default</th>
          <td>[ -180, -85, 180, 85 ]</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( { bbox: [ -71, 40, -69, 44 ] } );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var bbox = $( <i>selector</i> ).geomap( &quot;option&quot;, &quot;bbox&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><pre>$( <i>selector</i> ).geomap( &quot;option&quot;, &quot;bbox&quot;, [ -122, 42, -118, 46 ] );</pre></td>
        </tr>
      </table>
      <p>The bbox property calculates or modifies the bounding box of the map view the user currently sees. The geomap widget creates the bounding box based on the current center point, map zoom and size of the map view.</p>
      <p>When you set a new bbox, the center and zoom properties are set as close as they can be based on the services you've added and the size of the map view.</p>
      <p>For example, if you have a cached service with specific zoom levels, the map widget will have to pick a zoom level even though it may result in a bbox that is quite different from the one passed. When your services are fully dynamic, i.e., they allow arbitrary zoom levels, the final bbox will not likely match the one passed either due to ratio differences between the requested bbox and the map view's size. The map will attempt to pick a bounding box that best fits the one you request.</p>
      <p>This property is a JavaScript array consisting of four values which can be thought of as: minx, miny, maxx and maxy of the current map view in map units and in that order. By default the values are in geodetic coordinates, e.g., bbox[0] is the longitude of the left of the current map view, bbox[1] is the latitude of the bottom, bbox[2] is the longitude of the right and bbox[3] is the latitude of the top. You can change the default when you initialize the widget by passing projected coordinates as the bbox option.</p>
      <p>Setting a new bbox will refresh the map services.</p>
      <p>If you attempt to initialize both center and bbox at the same time when creating a geomap widget, center will override bbox.</p>
      <p>If you attempt to initialize both zoom and bbox at the same time when creating a geomap widget, bbox will be applied and zoom will modify the final bbox.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>bboxMax | geomap</title>
  <meta name="description" content="geomap bboxMax option">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="bboxMax" class="container">
    <div data-role="header" data-theme="f">
      <h1>bboxMax</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>Array ( <a href="http://geojson.org/geojson-spec.html#bounding-boxes" rel="external">GeoJSON bounding box</a> )</td>
        </tr>
        <tr>
          <th>default</th>
          <td>[ -180, -85, 180, 85 ]</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( { bboxMax: [ -71, 40, -69, 44 ] } );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var bboxMax = $( <i>selector</i> ).geomap( &quot;option&quot;, &quot;bboxMax&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><pre>$( <i>selector</i> ).geomap( &quot;option&quot;, &quot;bboxMax&quot;, [ -75.696, 38.804, -73.696, 41.287 ] );</pre></td>
        </tr>
      </table>
      <p>The bboxMax option defines a bounding box that surrounds all of the data you wish to show in non-tiled maps, i.e., you have set the <a href="tilingScheme.html">tilingScheme option</a> to null. Users can pan the map once they reach bboxMax but cannot zoom out further.</p>
      <p>This option is a JavaScript array consisting of four values which can be thought of as: minx, miny, maxx and maxy of the maximum map view you wish to allow in map units and in that order.</p>
      <p>A bboxMax option must be set properly for shingled (dynamic) services since the value of the map's zoom is based on a ratio between the current bbox and bboxMax.</p>
      <p>Setting a new bboxMax will refresh the map services and reset what zoom level 0 means.</p>
      <p><b>If you set <a href="tilingScheme.html">tilingScheme</a> to null, you must explicitly set bboxMax.</b></p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>center | geomap</title>
  <meta name="description" content="geomap center property">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="center" class="container">
    <div data-role="header" data-theme="f">
      <h1>center</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>Array (<a href="http://geojson.org/geojson-spec.html#positions" rel="external">GeoJSON position</a>)</td>
        </tr>
        <tr>
          <th>default</th>
          <td>[ 0, 0 ]</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( { center: [ 0, 0 ] } );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var center = $( <i>selector</i> ).geomap( &quot;option&quot;, &quot;center&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><pre>$( <i>selector</i> ).geomap( &quot;option&quot;, &quot;center&quot;, [ -71.037598, 42.363281 ] );</pre></td>
        </tr>
      </table>
      <p>The center property gets or sets the center point of the map. By default the value is in geodetic coordinates, e.g., longitude, latitude. You can change the default when you initialize the widget by passing projected coordinates as the center option.</p>
      <p>Setting a new center point will refresh the map services.</p>
      <p>If you attempt to initialize both center and bbox at the same time when creating a geomap widget, center will override bbox.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>cursors | geomap</title>
  <meta name="description" content="geomap cursors property">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="cursors" class="container">
    <div data-role="header" data-theme="f">
      <h1>cursors</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>Object (map of geomap mode to CSS cursor)</td>
        </tr>
        <tr>
          <th>default</th>
          <td><pre>{
  static: &quot;default&quot;,
  pan: &quot;move&quot;,
  zoom: &quot;crosshair&quot;,
  drawPoint: &quot;crosshair&quot;,
  drawLineString: &quot;crosshair&quot;,
  drawPolygon: &quot;crosshair&quot;,
  measureLength: &quot;crosshair&quot;,
  measureArea: &quot;crosshair&quot;
}</pre></td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( { cursors: { pan: &quot;move&quot; } } );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var cursors = $( <i>selector</i> ).geomap( &quot;option&quot;, &quot;cursors&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><pre>$( <i>selector</i> ).geomap( &quot;option&quot;, &quot;cursors&quot;, { pan: &quot;pointer&quot; } );</pre></td>
        </tr>
      </table>
      <p>The cursors property controls which cursors appear when users move the mouse over the geomap div in any given mode. <!--For example, if the developer switches the map widget to zoom mode the cursor will turn into a crosshair by default.--></p>
      <p>The developer may change each geomap mode's cursor separately during both initialization of the widget or any time after.</p>
      <p>Sometimes the geomap widget will override the selected mode's cursor, e.g., when a user starts panning in other modes the cursor will switch to the pan mode cursor temporarily.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>destroy | geomap</title>
  <meta name="description" content="geomap destroy method">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="destroy" class="container">
    <div data-role="header" data-theme="e">
      <h1>destroy</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>return type</th>
          <td>undefined</td>
        </tr>
        <tr>
          <th>syntax</th>
          <td>.geomap( &quot;destroy&quot; )</td>
        </tr>
        <tr>
          <th>usage</th>
          <td><pre>$(&quot;#map&quot;).geomap( &quot;destroy&quot; )</pre></td>
        </tr>
      </table>
      <p>
        Every good widget will clean up after itself. Call destroy to turn your interactive map back to a boring old div. Any content inside the div before you initialized geomap will remain intact.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>drawStyle | geomap</title>
  <meta name="description" content="geomap drawStyle option">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="drawStyle" class="container">
    <div data-role="header" data-theme="f">
      <h1>drawStyle</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>Object ( geomap style )</td>
        </tr>
        <tr>
          <th>default</th>
          <td><pre>{
  borderRadius: &quot;8px&quot;,
  color: &quot;#7f0000&quot;,
  fill: undefined,
  fillOpacity: .2,
  height: &quot;8px&quot;,
  opacity: 1,
  stroke: undefined,
  strokeOpacity: 1,
  strokeWidth: &quot;2px&quot;,
  visibility: &quot;visible&quot;,
  width: &quot;8px&quot;
}</pre>
          </td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>map selector</i> ).geomap( { drawStyle: { color: &quot;green&quot; } } );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var drawStyle = $( <i>map selector</i> ).geomap( &quot;option&quot;, &quot;drawStyle&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><pre>$( <i>map selector</i> ).geomap( &quot;option&quot;, &quot;drawStyle&quot;, { strokeWidth: &quot;4px&quot; } );</pre></td>
        </tr>
      </table>

      <p>The drawStyle option retrieves or updates the style of incomplete lines and polygons <b>as they are being drawn</b>. This differs from the <a href="shapeStyle.html">shapeStyle</a> option which updates the <i>base</i> style of shapes that you append to the map.</p>

      <p>Two extra color properties, stroke and fill, are not defined by default and use the value of the color property until they are defined individually.</p>

      <p>This option affects both the draw modes (drawPoint, drawLineString, and drawPolygon) and the measure modes (measureLength, and measureArea).</p>

      <p>This option changes specific properties of the internal style object. If you init or set an incomplete style object, only the style properties you reference are updated.</p>

      <ol>
        <li>
          <span>the base shapeStyle starts with its initial style having a red color (applied to both stroke and fill) and a strokeWidth of 2px</span>
          <pre>var map = $( '#map' ).geomap( );
map.geomap( 'option', 'shapeStyle' );
  // {
  //   color: "#7f0000"
  //   ...
  //   strokeWidth: "2px"
  // }</pre>
        </li>

        <li>
          <span>you can change the base drawStyle's stroke color to blue</span>
          <pre>$( '#map' ).geomap( 'option', 'drawStyle', { stroke: '#00f' } );</pre>
        </li>

        <li>
          <span>the next time a user draws a shape or measures, the stroke and fill of the draw shape following the pointer will be blue.</span>
        </li>
      </ol>
      

      <p>Please see the style section at the bottom of the <a href="../geomap/index.html#geomap-style">geomap widget</a> page for more information about the style object.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>empty | geomap</title>
  <meta name="description" content="geomap empty method">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="empty" class="container">
    <div data-role="header" data-theme="e">
      <h1>empty</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>return type</th>
          <td>jQuery collection</td>
        </tr>
        <tr>
          <th>syntax</th>
          <td>.geomap( &quot;empty&quot; [ , Boolean refresh ] )</td>
        </tr>
        <tr>
          <th>usage</th>
          <td><pre>$( <i>map or service selector</i> ).geomap( &quot;empty&quot; )
$( <i>map or service selector</i> ).geomap( &quot;empty&quot;, false )</pre></td>
        </tr>
      </table>
      <p>The empty method removes all shapes previously added with the append method.</p>
      <p>The jQuery UI widget factory returns the original jQuery collection to maintain call chaining.</p>
      <h2>delaying refresh</h2>
      <p>The optional refresh argument determines if geomap refreshes the map graphics after this call to empty. It defaults to true. If you pass false, geomap will remove all shapes internally but not immediately redraw the graphics. The changes will display if the user moves the map or you call geomap's refresh method.</p>
      <h2>service-level shapes</h2>
      <p>Similar to how you can remove shapes from specific services, you can empty specific services of all shapes as well.</p>
      <p>You do this by targeting a service inside a map instead of the map itself for your call to geomap's empty method. For example, the default map service has the CSS class: osm. We can remove all shapes from that service specifically by using jQuery to target the service:</p>
      <pre>$( &quot;#map .osm&quot; ).geomap( &quot;empty&quot; );</pre>
      <p>Calling empty on the map widget will not remove shapes that have been appended to services.</p>
      <p>To remove all shapes from the map and all services, you can use the comma selector and the built-in geo-service CSS class:</p>
      <pre><span class="comment">// empty the map widget and any services</span>
$( &quot;#map,#map .geo-service&quot; ).geomap( &quot;empty&quot; );</pre>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>find | geomap</title>
  <meta name="description" content="geomap find method">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="find" class="container">
    <div data-role="header" data-theme="e">
      <h1>find</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>return type</th>
          <td>Array&lt;Object&gt; ( <a href="http://geojson.org/geojson-spec.html" rel="external">GeoJSON objects</a> )</td>
        </tr>
        <tr>
          <th>syntax</th>
          <td>.geomap( &quot;find&quot;, Object point (<a href="http://geojson.org/geojson-spec.html#point" rel="external">GeoJSON Point</a>), Number pixelTolerance )</td>
        </tr>
        <tr>
          <td></td>
          <td>.geomap( &quot;find&quot;, <i>shape selector</i> )</td>
        </tr>
        <tr>
          <th>usage</th>
          <td><pre>var existingShape = $( <i>map or service selector</i> ).geomap( &quot;find&quot;, { type: &quot;Point&quot;, coordinates: [ -71.098709, 42.330322 ] }, 8 )

var allShapes = $( <i>map or service selector</i> ).geomap( &quot;find&quot;, &quot;*&quot; )</pre></td>
        </tr>
      </table>
      <p>The find method allows you to search for shapes appended to the map and/or services. There are two distinct ways to call this method.</p>
      <h2>geometry search</h2>

      <p>The find method can take a single GeoJSON map point and return all shapes within a pixel radius of the given location that have been added with append. If there are no shapes at the location, this method returns an empty array.</p>

      <p>The pixelTolerance argument is always in pixels. This allows for pixel-based searches regardless of the map's current zoom. A high-zoom search is finer than a low-zoom one because at lower zoom levels, i.e., the map is zoomed out more, the Earth-size of a pixel is greater causing this search to reach out farther from the supplied position.</p>

      <p>Duplicate shape references <b>are</b> included in the return value. For example, if you have appended the same GeoJSON object to both the map and a specific service, and then call find at that location, the returned array will contain two, identical shape references.</p>

      <h2>selector search</h2>

      <p>The find method can also take a single string. The string is in CSS selector syntax but currently only one selector is supported: *. Use the * selector to return an array of all shapes that have been appended to the map or service. If there are no shapes on the map or service, this method returns an empty array. Searching for all shapes at the map level will return all shapes that have been appended to the map or any service.</p>

      <p>Duplicate shape references <b>are</b> included in the return value. For example, if you have appended the same GeoJSON object to both the map and a specific service, and then call find( &quot;*&quot; ) at the map level, the returned array will contain two, identical shape references.</p>

      <p>The shape selector cannot include service ids or classes. To search for shapes within a specific service, see below.</p>

      <h2>service-level shapes</h2>

      <p>Similar to how you can append shapes to specific services, you can find shapes in specific services as well.</p>

      <p>You do this by targeting a service inside a map instead of the map itself for your call to geomap's find method. For example, the default map service has the CSS class: osm. We can find a shape from that service specifically by using jQuery to target the service:</p>

      <pre>var osmShapes = $( &quot;#map .osm&quot; ).geomap( &quot;find&quot;, [ -71, 42 ], 8 );</pre>

      <p>However, unlike the other three shape methods, shapes appended to a specific service <b>will be</b> returned by calling find on the map itself. In this way, calling find on the map is a deep search for shapes on all services. For example, after this sequence the shapes variable will contain the shape even though it was appended to a service specifically:<p>

      <pre>var point = {
      type: &quot;Point&quot;,
      coordinates: [ -71, 42 ]
    };

<span class="comment">// add the shape to the osm service</span>
$( &quot;#map .osm&quot; ).geomap( &quot;append&quot;, point );

<span class="comment">// use the original point to search for shapes on the map widget</span>
var shapes = $( &quot;#map&quot; ).geomap( &quot;find&quot;, point, 3 );</pre>

      <p>Another difference between the find method and the append, remove, and empty methods, is that the find method cannot currently be used on multiple targets simultaneously. For example, the return value of the following is undefined:</p>

      <pre><span class="comment">// attempt to search the osm service and a second service at the same time</span>
var shapes = $( &quot;#map .osm,#map .massgis&quot; ).geomap( &quot;find&quot;, point, 8 );</pre>

      <p>To find shapes in two specific services without searching all services you should use two find calls:</p>

      <pre><span class="comment">// find shapes on the default service and a second service</span>
var osmShapes = $( &quot;#map .osm&quot; ).geomap( &quot;find&quot;, point, 8 ),
    massgisShapes = $( &quot;#map .massgis&quot; ).geomap( &quot;find&quot;, point, 8 );</pre>

      <p>The selector-based version also follows this requirement. You cannot target more than one element with the initial selector and you cannot use the shape selector to search services. A multi-service selector-based search would be the same as above but with &quot;*&quot; instead of: point, 8.</p>

      <pre><span class="comment">// the following are invalid and their return value is undefined</span>
var multiTarget = $( &quot;#map .massgis,#map .osm&quot; ).geomap( &quot;find&quot;, &quot;*&quot; );
var shapeSubSelector = $( &quot;#map&quot; ).geomap( &quot;find&quot;, &quot;.massgis *&quot; );

<span class="comment">// proper way to get all shapes from multiple services</span>
var osmShapes = $( &quot;#map .osm&quot; ).geomap( &quot;find&quot;, &quot;*&quot; ),
    massgisShapes = $( &quot;#map .massgis&quot; ).geomap( &quot;find&quot;, &quot;*&quot; );</pre>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>bboxchange | geomap</title>
  <meta name="description" content="geomap bboxchange event">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="bboxchange" class="container">
    <div data-role="header" data-theme="a">
      <h1>bboxchange</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>bboxchange</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( {
  bboxchange: function( e, geo ) { }
} );</pre></td>
        </tr>
        <tr>
          <th>bind</th>
          <td><pre>$( <i>selector</i> ).bind( &quot;geomapbboxchange&quot;, function( e, geo ) { } );
} );</pre></td>
        </tr>
      </table>
      <p>The bboxchange event triggers any time user interaction causes a change in the current bbox of the map widget. This includes pan, wheel zoom, double-click zoom, etc. The geomap does not trigger this event when you update the bbox programmatically.</p>
      <p>The geo argument is an object containing a bbox property which the new bbox.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>click | geomap</title>
  <meta name="description" content="geomap click event">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="click" class="container">
    <div data-role="header" data-theme="a">
      <h1>click</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>position</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( {
  click: function( e, geo ) { }
} );</pre></td>
        </tr>
        <tr>
          <th>bind</th>
          <td><pre>$( <i>selector</i> ).bind( &quot;geomapclick&quot;, function( e, geo ) { } );
} );</pre></td>
        </tr>
      </table>
      <p>The click event triggers when the user clicks or taps a point on the map and then lets go at the same point within a short time threashold. However, it only triggers if the user is not currently performing some other action which might be handled internally by the widget.</p>
      <p>The geo argument is a <a href="http://geojson.org/geojson-spec.html#point" rel="external">GeoJSON Point</a> object of the clicked location in map coordinates.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>dblclick | geomap</title>
  <meta name="description" content="geomap dblclick event">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="dblclick" class="container">
    <div data-role="header" data-theme="a">
      <h1>dblclick</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>position</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( {
  dblclick: function( e, geo ) { }
} );</pre></td>
        </tr>
        <tr>
          <th>bind</th>
          <td><pre>$( <i>selector</i> ).bind( &quot;geomapdblclick&quot;, function( e, geo ) { } );
} );</pre></td>
        </tr>
      </table>
      <p>The dblclick event triggers when the user double-clicks or double-taps a point on the map. However, it only triggers if the user is not currently performing some other action which might be handled internally by the widget.</p>
      <p>The geo argument is a <a href="http://geojson.org/geojson-spec.html#point" rel="external">GeoJSON Point</a> object of the clicked location in map coordinates.</p>
      <p>The default action for a double-click/tap is to zoom the map in one level. However, as a developer you can override this by calling e.preventDefault() in your callback.</p>
      <pre>$( &quot;#map&quot; ).geomap( {
  dblclick: function( e, geo ) { e.preventDefault(); }
} );</pre>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>loadend | geomap</title>
  <meta name="description" content="geomap loadend event">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="loadend" class="container">
    <div data-role="header" data-theme="a">
      <h1>loadend</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>load</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>map selector</i> ).geomap( {
  loadend: function( e, geo ) { }
} );</pre></td>
        </tr>
        <tr>
          <th>bind</th>
          <td><pre>$( <i>map selector</i> ).bind( &quot;geomaploadend&quot;, function( e, geo ) { } );
} );</pre></td>
        </tr>
      </table>

      <p>The loadend event triggers after a loadstart event when the geomap widget has finished loading all pending images. It only triggers once regardless of the number of images loaded. It will not be triggered again until after another loadstart event.</p>

      <p>The geo argument is currently undefined for this event.</p>

      <p>You can use this event to hide an indicator that your website is busy downloading images.</p> 
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>loadstart | geomap</title>
  <meta name="description" content="geomap loadstart event">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="loadstart" class="container">
    <div data-role="header" data-theme="a">
      <h1>loadstart</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>load</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>map selector</i> ).geomap( {
  loadstart: function( e, geo ) { }
} );</pre></td>
        </tr>
        <tr>
          <th>bind</th>
          <td><pre>$( <i>map selector</i> ).bind( &quot;geomaploadstart&quot;, function( e, geo ) { } );
} );</pre></td>
        </tr>
      </table>

      <p>The loadstart event triggers when the geomap widget begins to load new images. It only triggers once regardless of the number of images about to be loaded. It will not be triggered again until after all pending images have been loaded (the image queue returns to zero) and a change in the map requires more images.</p>

      <p>The geo argument is currently undefined for this event.</p>

      <p>You can use this event to show an indicator that your website is busy downloading images.</p> 
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>move | geomap</title>
  <meta name="description" content="geomap move event">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="move" class="container">
    <div data-role="header" data-theme="a">
      <h1>move</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>position</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( {
  move: function( e, geo ) { }
} );</pre></td>
        </tr>
        <tr>
          <th>bind</th>
          <td><pre>$( <i>selector</i> ).bind( &quot;geomapmove&quot;, function( e, geo ) { } );
} );</pre></td>
        </tr>
      </table>
      <p>The move event triggers when the user moves the mouse cursor while the cursor is over the map. However, it only triggers if the user is not currently performing some other action such as panning.</p>
      <p>The geo argument is a <a href="http://geojson.org/geojson-spec.html#point" rel="external">GeoJSON Point</a> object of the location under the mouse cursor in map coordinates.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>shape | jQuery Geo</title>
  <meta name="description" content="jQuery Geo shape event">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="shape" class="container">
    <div data-role="header" data-theme="a">
      <h1>shape</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>shape</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( {
  shape: function( e, geo ) { }
} );</pre></td>
        </tr>
        <tr>
          <th>bind</th>
          <td><pre>$( <i>selector</i> ).bind( &quot;geomapshape&quot;, function( e, geo ) { } );
} );</pre></td>
        </tr>
      </table>
      <p>The shape event triggers when the user measures a length, or area, or draws a point, line or polygon. He or she does this by tapping the map in specific ways while the geomap mode property is set to: measureLength, measureArea, drawPoint, drawLineString or drawPolygon.</p>
      <p>When mode is drawPoint, a single tap of the map triggers this event passing a <a href="http://geojson.org/geojson-spec.html#point" rel="external">GeoJSON Point</a> object of the tapped location in map coordinates.</p>
      <p>When mode is measureLength or drawLineString, the first single tap begins a line. Subsequent single taps add points to the line. A double-tap on the map adds a final point and triggers this event passing a <a href="http://geojson.org/geojson-spec.html#linestring" rel="external">GeoJSON LineString</a> object of the measured length or sketched line in map coordinates.</p>
      <p>When mode is measureArea or drawPolygon, the first single tap begins a polygon. Subsequent single taps add points to the polygon. A double-tap on the map adds a final point and triggers this event passing a <a href="http://geojson.org/geojson-spec.html#polygon" rel="external">GeoJSON Polygon</a> object of the measured area or sketched polygon in map coordinates.</p>
      <p>While measuring or drawing a shape, the user can pan the map by dragging or zoom the map with the mouse wheel. This will not interrupt their current measuring or drawing.</p>
      <p>If you allow users to both measure and draw in your app, be sure to check the <a href="mode.html">mode</a> option in your event handler to determine if this event was triggered by measuring or by drawing. For example, you may want to append the shape to the map during drawPolygon but not during measureArea.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>geomap | jQuery Geo</title>
  <meta name="description" content="jQuery Geo geomap widget">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="geomap" class="container">
    <div data-role="header" data-theme="d">
      <h1>geomap widget</h1>
    </div>
    
    <div data-role="content">
      <p>Once you have an HTML element to target, you can call the geographic map widget's function.</p>

      <pre>.geomap( options )</pre>

      <h2>overview</h2>

      <p>The widget creates an interactive map. Users can pan and zoom on desktop and mobile browsers against many different cached tile sets or dynamic map servers. Developers can handle events triggered by user action.</p>

      <div class="geomap-indoc"></div>

      <h2>options</h2>

      <p>The options argument is a JavaScript object that configures the map widget during the first instantiation on a div. No options are required. By default the map will show the whole world using the <a href="http://open.mapquest.com/" rel="external" target="_blank">mapquest open</a> tile set.</p>

      <p>After initializing a map with your first geomap call, you can get or set most of these options using the following syntax:</p>

      <pre><span class="comment">// get the current value of a single option</span>
var optionValue = $( <i>map selector</i> ).geomap( &quot;option&quot;, <i>optionName</i> );

<span class="comment">// set a new value for a single option</span>
$( <i>map selector</i> ).geomap( &quot;option&quot;, <i>optionName</i>, <i>newValue</i> );

<span class="comment">// set new values for multiple options at the same time</span>
$( <i>map selector</i> ).geomap( &quot;option&quot;, {
  <i>optionName</i>: <i>newValue</i>,
  <i>optionName</i>: <i>newValue</i>
} );</pre>

      <p>Two exceptions are pixelSize (which is read-only) and zoomFactor (which is init-only).</p>

      <p>The map view refreshes when you change these options: bbox, center, services, tilingScheme, bboxMax, &amp; zoom.</p>

      <div class="list-group" data-inset="true">
        <a class="list-group-item" href="bbox.html"><h3>bbox</h3><p>bounds of the currently visible viewport</p></a>
        <a class="list-group-item" href="bboxMax.html"><h3>bboxMax</h3><p>bounds of maximum viewport for non-tiled maps</p></a>
        <a class="list-group-item" href="center.html"><h3>center</h3><p>center of the currently visible viewport</p></a>
        <a class="list-group-item" href="zoom.html"><h3>zoom</h3><p>zoom level of the currently visible viewport</p></a>
        <a class="list-group-item" href="zoomMin.html"><h3>zoomMin</h3><p>minimum zoom level for all services in the map</p></a>
        <a class="list-group-item" href="zoomMax.html"><h3>zoomMax</h3><p>maximum zoom level for all services in the map</p></a>
        <a class="list-group-item" href="zoomFactor.html"><h3>zoomFactor</h3><p>determines how the map handles tiled zoom interactions</p></a>
        <a class="list-group-item" href="pixelSize.html"><h3>pixelSize</h3><p>read-only Earth-size of a pixel in the current map viewport</p></a>
        <a class="list-group-item" href="mode.html"><h3>mode</h3><p class="ui-li-desc">determines how the map, user, &amp; developer interact</p></a>
        <a class="list-group-item" href="pannable.html"><h3>pannable</h3><p class="ui-li-desc">allow or prohit map panning</p></a>
        <a class="list-group-item" href="scroll.html"><h3>scroll</h3><p class="ui-li-desc">determines how the map reacts to a mouse wheel</p></a>
        <a class="list-group-item" href="shift.html"><h3>shift</h3><p class="ui-li-desc">determines how holding the shift key affects the map</p></a>
        <a class="list-group-item" href="cursors.html"><h3>cursors</h3><p>cursors to display for each mode</p></a>
        <a class="list-group-item" href="measureLabels.html"><h3>measureLabels</h3><p>format to apply to label while measuring</p></a>
        <a class="list-group-item" href="drawStyle.html"><h3>drawStyle</h3><p>when drawing shapes, defines how they look during drawing</p></a>
        <a class="list-group-item" href="shapeStyle.html"><h3>shapeStyle</h3><p>defines how geomap draws shapes added via the append method</p></a>
        <a class="list-group-item" href="services.html"><h3>services</h3><p>determine the content of the map</p></a>
        <a class="list-group-item" href="tilingScheme.html"><h3>tilingScheme</h3><p>defines how tiles are placed in the viewport</p></a>
        <a class="list-group-item" href="axisLayout.html"><h3>axisLayout</h3><p>&quot;map&quot; or &quot;image&quot;</p></a>
      </div>

      <h2>projection</h2>

      <p>The geomap widget will match how you use projection with map units. The map unit type (projected or geodetic) you used when you last set the <b>bbox</b>, <b>bboxMax</b>, or the <b>center</b> option will be used as output for options and as values for arguments. If you never set the bbox or center options, the geomap widget will return geodetic coordinates.</p>

      <p>For example, if you set the map's center option using geodetic coordinates (a longitude, latitude array), future requests for the value of the map's center or bbox options will be returned in geodetic coordinates. However, if you later set the bbox option using web mercator, future requests for the center or bbox options will be returned in that projection.</p>

      <p>Changing bbox or center will affect all options and arguments that use map units. The options and arguments involved are:</p>

      <ul>
        <li>bbox option</li>
        <li>bboxMax option</li>
        <li>center option</li>
        <li>bbox property of the services object's src argument</li>
        <li>GeoJSON objects passed as the geo argument in all events</li>
        <li>return value of the toMap method</li>
      </ul>

      <p>To avoid confusion, it is recommended to stick to one map unit type for any single map widget.</p>

      <p>The geomap widget will use the <a href="../geo/proj.html">$.geo.proj object</a> when needed to convert between geodetic and projected coordinates.</p>

      <h2>events</h2>

      <p>All event callbacks receive two arguments: the original browser event and an object specific to the map action.</p>

      <p>The map unit type (projected or geodetic) of the map event arguments depends on the way you initialize the map widget. If you have set the center or bbox option using geodetic coordinates, the event arguments will also be in geodetic coordinates.</p>

      <p>Like jQuery UI widgets, geomap triggers events directly on the original map div.</p>

      <p>Programatic changes to options do not trigger events.</p>

      <p>The dblclick event is special in that you can prevent the default action, zoom-in one level, by calling e.preventDefault() in your callback. This is currently the only geomap event that you can prevent the default action. Calling preventDefault in the callback of any other geomap event has undefined results.</p>

      <p>There are four geomap event <i>types</i>. The type of event determines what is sent to your event handler as the second argument, geo.</p>

      <h3>position events</h3>

      <p>With position events the geo argument to your callback is a <a href="http://geojson.org/geojson-spec.html#point" rel="external">GeoJSON Point</a> object having two properties: type &amp; coordinates. The coordinates property is a single <a href="http://geojson.org/geojson-spec.html#positions" rel="external">GeoJSON position</a>, i.e., an array containing the x/longitude and y/latitude value.</p>

      <p>The geo argument to your callback is a true GeoJSON object and you can pass this object directly to the append method. You can also send it directly to a database for storage knowing that there are no non-GeoJSON properties wasting space.</p>

      <p>The following events are position events:</p>

      <div class="list-group">
        <a class="list-group-item" href="geomapmove.html">move</a>
        <a class="list-group-item" href="geomapclick.html">click</a>
        <a class="list-group-item" href="geomapdblclick.html">dblclick</a>
      </div>

      <h4>Simple modes which trigger position events</h4>

      <p>The following <a href="mode.html">modes</a> will send a position event when a user clicks on the map without triggering other behavior.</p>

      <div class="list-group">
        <a class="list-group-item" href="mode.html#modePan">pan</a>
        <a class="list-group-item" href="mode.html#modeZoom">zoom</a>
        <a class="list-group-item" href="mode.html#modeClick">click</a>
      </div>

      <h4>Compound modes which trigger position events</h4>

      <p>The following <a href="mode.html">modes</a> will send a position event when a user clicks on the map in the midst of performing a larger action, such as on each click while drawing a line.</p>

      <p>Each click event while drawing &amp; measuring can be cancelled by calling e.preventDefault() in your click handler. This can be useful if, e.g., a user is drawing a polygon but attempts to add a point that's outside of a designated area, you can cancel that specific point being added to the shape and supply a warning.</p>

      <div class="list-group">
        <a class="list-group-item" href="mode.html#modeDrawLineString">drawLineString</a>
        <a class="list-group-item" href="mode.html#modeDrawPolygon">drawPolygon</a>
        <a class="list-group-item" href="mode.html#modeMeasureLength">measureLength</a>
        <a class="list-group-item" href="mode.html#modeMeasureArea">measureArea</a>
      </div>

      <h3>bbox events</h3>

      <p>With bbox events the geo argument to your callback is an object with single property, bbox, which is a <a href="http://geojson.org/geojson-spec.html#bounding-boxes" rel="external">GeoJSON bounding box</a>.</p>

      <div class="list-group" data-inset="true">
        <a class="list-group-item" href="geomapbbox.html">bboxchange</a>
      </div>

      <h3>shape events</h3>

      <p>With shape events, the geo argument to your callback is a GeoJSON geometry object having two properties: type &amp; coordinates. The object type will be either Point, LineString or Polygon depending on the current geomap mode: measureLength, measureArea, drawPoint, drawLineString, and drawPolygon.</p>

      <p>The geo argument to your callback is a true GeoJSON object and you can pass this object directly to the append method. You can also send it directly to a database for storage knowing that there are no non-GeoJSON properties wasting space.</p>

      <div class="list-group" data-inset="true">
        <a class="list-group-item" href="geomapshape.html">shape</a>
      </div>

      <h3>load events</h3>

      <p>With load events, the geo argument is currently undefined. You can add the argument to your handler's argument list if you wish but attempting to access any property on it will cause a JavaScript error.</p>

      <div class="list-group" data-inset="true">
        <a class="list-group-item" href="geomaploadstart.html">loadstart</a>
        <a class="list-group-item" href="geomaploadend.html">loadend</a>
      </div>

      <h2>methods</h2>

      <p>The geomap widget provides some methods to help make interacting map data a little easier.</p>

      <h3>unit conversion</h3>

      <p>Convert positions between pixel and map coordinates.</p>
      <div class="list-group" data-inset="true">
        <a class="list-group-item" href="toMap.html">toMap</a>
        <a class="list-group-item" href="toPixel.html">toPixel</a>
      </div>
      <h3>map methods</h3>
      <p>These methods update the map widget as a whole.</p>
      <div class="list-group" data-inset="true">
        <a class="list-group-item" href="zoomMethod.html">zoom</a>
        <a class="list-group-item" href="refresh.html">refresh</a>
        <a class="list-group-item" href="resize.html">resize</a>
        <a class="list-group-item" href="destroy.html">destroy</a>
      </div>
      <h3>service modification</h3>
      <p>Methods that help update objects in the services array.</p>
      <div class="list-group" data-inset="true">
        <a class="list-group-item" href="toggle.html">toggle</a>
        <a class="list-group-item" href="opacity.html">opacity</a>
      </div>
      <h3>shapes</h3>
      <p>These methods manage geometry or features drawn on the geomap widget itself or on individual servies within the map.</p>
      <div class="list-group" data-inset="true">
        <a class="list-group-item" href="append.html">append</a>
        <a class="list-group-item" href="remove.html">remove</a>
        <a class="list-group-item" href="empty.html">empty</a>
      </div>
      <p>The find method allows you to search for shapes appended to the map. Its syntax and service-level operation is slightly different than the other three shape methods so the link is visually broken out from the rest.</p>
      <div class="list-group" data-inset="true">
        <a class="list-group-item" href="find.html">find</a>
      </div>
      <h2 id="geomap-style">style</h2>
      <p>A geomap style is an object whose properties follow a subset of <a href="http://www.w3.org/TR/SVG/styling.html">SVG styling</a> properties. The specific styles that geomap recognizes and to which geometry they apply are listed below.</p>
      <p>Use the drawStyle option of the geomap widget to define the style used on incomplete lines and polygons as they are being drawn when mode is drawLineString or drawPolygon.</p>
      <p>Use the shapeStyle option to define the style of shapes drawn after being appended to the map via the append method.</p>
      <p>Please note that in drawPoint mode, the shape event is triggered immediately and so no shape will appear until you append a point to the map at which time the shapeStyle will be used.</p>
      <h3>geomap style properties</h3>
      <div class="panel panel-default">
      <table class="table objectProperties">
        <tr>
          <th>property</th>
          <th>default</th>
          <th>description</th>
        </tr>
        <tr>
          <td>borderRadius</td>
          <td>&quot;8px&quot;</td>
          <td>The radii of a quarter ellipse that defines the shape of the corner of the outer border of a box drawn around Point shapes, which means it turns your boxes into curved rectangles. If the width, height and borderRadius properties of a style are the same (the default), the point is drawn as a circle.</td>
        </tr>
        <tr>
          <td>color</td>
          <td>#7f0000</td>
          <td>An indirect, fallback value for the fill and stroke properties if they are not set.</td>
        </tr>
        <tr>
          <td>fill</td>
          <td>undefined</td>
          <td>Color to use when drawing the interior of a shape. The area to be drawn consists of any areas inside the outline of the shape. By default, fill will use the value of the color property.</td>
        </tr>
        <tr>
          <td>fillOpacity</td>
          <td>.2</td>
          <td>Specifies the opacity of the drawing operation used to draw the interior of a shape. The final fill opacity also depends on the value of the opacity property.</td>
        </tr>
        <tr>
          <td>height</td>
          <td>&quot;8px&quot;</td>
          <td>The height of a box drawn around Point shapes. Currently only pixel values are allowed. If either width or height are zero, no shape is drawn for the Point.</td>
        </tr>
        <tr>
          <td>opacity</td>
          <td>1</td>
          <td>The object opacity of the entire shape. This is a multiplicative operation when determining the final fillOpacity and strokeOpacity where any fill or stroke operation is made even more translucent if this value is below 1.0.</td>
        </tr>
        <tr>
          <td>stroke</td>
          <td>undefined</td>
          <td>Color to use when drawing along the outline of a shape. By default, stroke will use the value of the color property.</td>
        </tr>
        <tr>
          <td>strokeOpacity</td>
          <td>1</td>
          <td>Specifies the opacity of the drawing operation used to draw the outline of a shape. The final stroke opacity also depends on the value of the opacity property.</td>
        </tr>
        <tr>
          <td>strokeWidth</td>
          <td>&quot;2px&quot;</td>
          <td>The width of the stroke of a shape. A zero value causes no stroke to be drawn. Currently only pixel values are allowed.</td>
        </tr>
        <tr>
          <td>visibility</td>
          <td>&quot;visible&quot;</td>
          <td>Determines if the shape is drawn (&quot;visible&quot;) or not drawn (&quot;hidden&quot;) on the map. Shapes that are hidden can still be returned by the find method.</td>
        </tr>
        <tr>
          <td>width</td>
          <td>&quot;8px&quot;</td>
          <td>The width of a rounded rectangle drawn around Point shapes. Currently only pixel values are allowed. If either width or height are zero, no shape is drawn for the Point.</td>
        </tr>
      </table>
      </div>
      <p>All properties apply to Point shapes which means that you can adjust the stroke and fill of the box surrounding the point location.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="https://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>measureLabels | geomap</title>
  <meta name="description" content="geomap measureLabels option">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="measureLabels" class="container">
    <div data-role="header" data-theme="f">
      <h1>measureLabels</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>Object</td>
        </tr>
        <tr>
          <th>default</th>
          <td><pre>{
  length: &quot;{{:length}} m&quot;,
  area: &quot;{{:area}} sq m&quot;
}</pre></td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( { measureLabels: { length: &quot;{{:length}} meters&quot; } } );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var measureLabels = $( <i>selector</i> ).geomap( &quot;option&quot;, &quot;measureLabels&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><pre>$( <i>selector</i> ).geomap( &quot;option&quot;, &quot;measureLabels&quot;, { area: &quot;{{:area}} square meters&quot; } );</pre></td>
        </tr>
      </table>

      <p>The measureLabels option controls how the length or area text is formatted when displayed on the map during measuring.</p>

      <p>In the label strings, the {{: }} syntax is used as a placeholder for the current length or area. All other text is displayed verbatim.</p>
      
      <p><b>Note: Alpha releases used a {{= }} syntax but there is a breaking change in the beta version due to <a href="http://www.borismoore.com/2012/03/approaching-beta-whats-changing-in_06.html" rel="external">changes in jsRender</a>. Please use the new {{: }} syntax.</b></p>

      <p>The developer may change each measureLabels option separately during both initialization of the widget or any time after.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>mode | geomap</title>
  <meta name="description" content="geomap mode option">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="mode" class="container">
    <div data-role="header" data-theme="f">
      <h1>mode</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>String</td>
        </tr>
        <tr>
          <th>default</th>
          <td>&quot;pan&quot;</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( { mode: &quot;pan&quot; } );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var mode = $( <i>selector</i> ).geomap( &quot;option&quot;, &quot;mode&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><pre>$( <i>selector</i> ).geomap( &quot;option&quot;, &quot;mode&quot;, &quot;drawPoint&quot; );</pre></td>
        </tr>
      </table>

      <p>The mode option determines how the map responds to user interaction and which events jQuery Geo triggers for the developer.</p>

      <p>jQuery Geo puts these modes into four small groups:</p>
      
      <h2>modes</h2>


      <h3>basic</h3>

      <p>Basic modes are most common to what people expect to be able to do with a map: drag it around, zoom it in and out, or just have it sit there an look pretty.</p>

      <div class="list-group">
        <a class="list-group-item" href="#modeStatic">static</a>
        <a class="list-group-item" href="#modePan">pan</a>
        <a class="list-group-item" href="#modeZoom">zoom</a>
        <a class="list-group-item" href="#modeClick">click</a>
      </div>

      <h3>drag</h3>

      <p>Drag modes disable panning and turn single swipes into shape events.</p>

      <div class="list-group">
        <a class="list-group-item" href="#modeDragBox">dragBox</a>
        <a class="list-group-item" href="#modeDragCircle">dragCircle</a>
      </div>

      <h3>draw</h3>

      <p>Draw modes turn user clicks into shape events, panning is allowed.</p>

      <div class="list-group">
        <a class="list-group-item" href="#modeDrawPoint">drawPoint</a>
        <a class="list-group-item" href="#modeDrawLineString">drawLineString</a>
        <a class="list-group-item" href="#modeDrawPolygon">drawPolygon</a>
      </div>

      <h3>measure</h3>

      <p>Measure modes display length and area based on clicks and drags.</p>

      <div class="list-group">
        <a class="list-group-item" href="#modeMeasureLength">measureLength</a>
        <a class="list-group-item" href="#modeMeasureArea">measureArea</a>
      </div>

      <p>You are free to set mode to any other string, this is called <a href="#custom-modes">custom modes</a> in jQuery Geo and described at the end of this page.</p>

      <h2>related options</h2>

      <p>Each mode has a matching property on the <a href="cursors.html">cursors</a> option. For example, to change the cursor for drawPoint mode to an I-beam, you can initialize the geomap widget like this:</p>

      <pre>$( <i>selector</i> ).geomap( { cursors: { drawPoint: &quot;text&quot; } } )</pre>

      <p>The <a href="drawStyle.html">drawStyle</a> option determines how shapes look while being drawn in all of the draw, drag, and measure modes.</p>

      <p>The <a href="measureLabels.html">measureLabels</a> option determines how the text is formatted while using the measure modes.</p>

      <p>You can remove a user's ability to pan the map by setting the <a href="pannable.html">pannable</a> option to false. Yes, you can disable panning even when mode is set to &quot;pan&quot;.<p>

      <p>You can shut off mouse wheel scroll in any mode by setting the <a href="scroll.html">scroll</a> option to &quot;off&quot;.</p>

      <p>However, when mode is static, setting panning to true or scroll to &quot;zoom&quot; will not enable panning or mouse wheel zoom. In static mode, the geomap widget ignores the panning and scroll options.</p>

      <h2>style</h2>
      <p>The label containing the measure length or area text has the geo-measure-label CSS class. To change how the measure text looks, you can update properties in that rule:</p>

      <pre>.geo-measure-label { font-size: 1.5em; }</pre>

      <h2 id="modeStatic">static</h2>

      <h3>user experience</h3>
      <p>The default cursor is the default arrow pointer.</p>

      <p>The map widget displays tiles and map images as normal but the user cannot interact with them, e.g., the user can't pan or zoom in any way, even if the <a href="pannable.html">pannable</a> option is set to true.</p>

      <p>As a developer, you can still call geomap methods and set options in order to change the static map's appearance. Events are not triggered when you change the map programmatically.</p>

      <h3>events</h3>
      <p>All regular browser events bubble up to parent elements and eventually the document. No widget-specific events trigger. You are free to handle events on the map div as normal events, e.g., click, but you won't get the geo argument. You can ask the map widget for information such as map locations based on the pixel arguments in the event. See the <a href="../examples/inset.html" rel="external">Inset example</a> for help with this.</p>

      <h2 id="modePan">pan</h2>
      <h3>user experience</h3>
      <p>The default cursor is an open hand in browsers that support data URIs and a four point arrow otherwise.</p>

      <p>The user can drag the map to pan. The map will continue panning a little after the user lets go. They can zoom in or out with the scroll wheel. They can also double-click or double-tap to zoom in one level. On some multitouch devices, users can use two fingers to &quot;pinch zoom&quot; (currently not available on Android).</p>

      <p>The user can hold the shift key to temporarily switch to zoom mode.</p>

      <h3>events</h3>
      <p>In pan mode, the geomap widget triggers the following events on the original map div.</p>
      <ul class="list-group">
        <li class="list-group-item">move &ndash; when the user moves the mouse above the map but is not actively panning</li>
        <li class="list-group-item">click &ndash; when the user clicks or taps a point on the map without initiating a pan, i.e., they let go of the map at the same point and within a short time threshold</li>
        <li class="list-group-item">dblclick &ndash; when the user double-clicks or double-taps a point on the map</li>
        <li class="list-group-item">bboxchange &ndash; when the user changes the bbox by panning or zooming</li>
      </ul>

      <h2 id="modeZoom">zoom</h2>

      <h3>user experience</h3>
      <p>The default cursor is a crosshair.</p>

      <p>In this mode the user can perform a marquee zoom by clicking and holding one point and dragging the mouse cursor. A box will form. When the user lets go of the mouse, the map will zoom to the closest approximation of the bbox of the drawn shape.</p>
      <p>Shingled (dynamic) services are only limited by the ratio between the size of the drawn shape and the map div's current size. Cached services are limited to those as well but also specific map zoom levels so the final bbox will not be as close.</p>
      <p>The user can also zoom in or out with the scroll wheel as well as double-click or double-tap to zoom in one level. On some multitouch devices, users can use two fingers to &quot;pinch zoom&quot; (currently not available on Android).</p>
      <p>This is not a very useful mode for mobile applications but provides a more exact method of zooming into an area for desktop users who want it.</p>

      <h3>events</h3>
      <p>In zoom mode the geomap widget triggers the following events on the original map div.</p>
      <ul class="list-group">
        <li class="list-group-item">move &ndash; when the user moves the mouse above the map but is not actively performing a marquee zoom</li>
        <li class="list-group-item">click &ndash; when the user clicks or taps a point on the map without initiating a marquee zoom, i.e., they let go of the map at the same point and within a short time threshold</li>
        <li class="list-group-item">dblclick &ndash; when the user double-clicks or double-taps a point on the map</li>
        <li class="list-group-item">bboxchange &ndash; when the user changes the bbox by zooming</li>
      </ul>

      <h2 id="modeClick">click</h2>

      <h3>user experience</h3>
      <p>The default cursor is a crosshair.</p>

      <p>In this mode the user can single-click or tap the map. Apart from the default cursor, this mode is similar to pan in that the user can drag the map to pan. They can zoom in or out with the scroll wheel. They can also double-click or double-tap to zoom in one level. On some multitouch devices, users can use two fingers to &quot;pinch zoom&quot; (currently not available on Android).</p>

      <p>The user can hold the shift key to temporarily switch to zoom mode.</p>

      <h3>events</h3>
      <p>In click mode, the geomap widget triggers the following events on the original map div.</p>
      <ul class="list-group">
        <li class="list-group-item">move &ndash; when the user moves the mouse above the map but is not actively panning</li>
        <li class="list-group-item">click &ndash; when the user clicks or taps a point on the map without initiating a pan, i.e., they let go of the map at the same point and within a short time threshold</li>
        <li class="list-group-item">dblclick &ndash; when the user double-clicks or double-taps a point on the map</li>
        <li class="list-group-item">bboxchange &ndash; when the user changes the bbox by panning or zooming</li>
      </ul>

      <h2 id="modeDragBox">dragBox</h2>

      <h3>user experience</h3>
      <p>The default cursor is a crosshair.</p>

      <p>Similar to zoom, in this mode the user can click and hold one point and then drag the mouse cursor. A box will form. When the user lets go of the mouse, jQuery Geo will trigger a shape event passing a GeoJSON Polygon representation of the dragged bbox as the geo argument. The Polygon object also has the GeoJSON the bbox property.</p>

      <p>The user can also click the map instead of dragging a box. In this case, jQuery Geo will still trigger a shape event, but this time it will pass a GeoJSON Point representing the clicked location. The Point object will also have the bbox property with the min and max values matching each other, i.e., bbox[0] (minx) = bbox[2] (maxx) and bbox[1] (miny) = bbox[3] (maxy).</p>

      <p>The user cannot pan the map while in dragBox mode. The user can zoom in or out with the scroll wheel as well as double-click or double-tap to zoom in one level. On some multitouch devices, users can use two fingers to &quot;pinch zoom&quot; (currently not available on Android).</p>

      <p>The user can hold the shift key to temporarily switch to zoom mode.</p>

      <h3>events</h3>
      <p>In dragBox mode the geomap widget triggers the following events on the original map div.</p>
      <ul class="list-group">
        <li class="list-group-item">move &ndash; when the user moves the mouse above the map but is not actively dragging a bbox</li>
        <li class="list-group-item">dblclick &ndash; when the user double-clicks or double-taps a point on the map</li>
        <li class="list-group-item">bboxchange &ndash; when the user changes the bbox by zooming</li>
        <li class="list-group-item">shape &ndash; when the user lets go of the mouse after dragging to make a bbox, jQuery Geo will send a GeoJSON Polygon object to the developer; this Polygon object has a bbox property which is set to the bbox of the rectangle drawn</li>
      </ul>

      <h2 id="modeDragCircle">dragCircle</h2>

      <h3>user experience</h3>
      <p>The default cursor is a crosshair.</p>

      <p>In this mode the user can click and hold one point and then drag the mouse cursor. A circle will form from the center outward. When the user lets go of the mouse, jQuery Geo will trigger a shape event passing a GeoJSON Polygon representation of the dragged circle as the geo argument. The Polygon object also has the GeoJSON the bbox property.</p>

      <p>The user can also click the map instead of dragging a circle. In this case, jQuery Geo will still trigger a shape event, but this time it will pass a GeoJSON Point representing the clicked location. The Point object will also have the bbox property with the min and max values matching each other, i.e., bbox[0] (minx) = bbox[2] (maxx) and bbox[1] (miny) = bbox[3] (maxy).</p>

      <p>The user cannot pan the map while in dragCircle mode. The user can zoom in or out with the scroll wheel as well as double-click or double-tap to zoom in one level. On some multitouch devices, users can use two fingers to &quot;pinch zoom&quot; (currently not available on Android).</p>

      <p>The user can hold the shift key to temporarily switch to zoom mode.</p>

      <h3>events</h3>
      <p>In dragCircle mode the geomap widget triggers the following events on the original map div.</p>
      <ul class="list-group">
        <li class="list-group-item">move &ndash; when the user moves the mouse above the map but is not actively dragging a circle</li>
        <li class="list-group-item">dblclick &ndash; when the user double-clicks or double-taps a point on the map</li>
        <li class="list-group-item">bboxchange &ndash; when the user changes the bbox by zooming</li>
        <li class="list-group-item">shape &ndash; when the user lets go of the mouse after dragging to make a circle, jQuery Geo will send a GeoJSON Polygon object to the developer; this Polygon object has a bbox property which is set to the bbox of the circle drawn</li>
      </ul>

      <h2 id="modeDrawPoint">drawPoint</h2>

      <h3>user experience</h3>
      <p>The default cursor is a crosshair.</p>

      <p>In this mode the user can digitize a Point shape by single-clicking or tapping the map. Apart from the default cursor, this mode is similar to pan in that the user can drag the map to pan. However, to allow a user more accuracy during digitization, the map will not continue panning a little after the user lets go. They can zoom in or out with the scroll wheel. They can also double-click or double-tap to zoom in one level. On some multitouch devices, users can use two fingers to &quot;pinch zoom&quot; (currently not available on Android).</p>

      <p>A visual point will appear temporarily until they either let go to draw the point or begin panning.</p>

      <p>The user can hold the shift key to temporarily switch to zoom mode.</p>

      <h3>events</h3>
      <p>In drawPoint mode, the geomap widget triggers the following events on the original map div. Note that the shape event replaces the click event.</p>
      <ul class="list-group">
        <li class="list-group-item">move &ndash; when the user moves the mouse above the map but is not actively panning</li>
        <li class="list-group-item">dblclick &ndash; when the user double-clicks or double-taps a point on the map</li>
        <li class="list-group-item">bboxchange &ndash; when the user changes the bbox by panning or zooming</li>
        <li class="list-group-item">shape &ndash; when the user clicks or taps a point on the map, this action will send a GeoJSON Point object to the developer</li>
      </ul>

      <h2 id="modeDrawLineString">drawLineString</h2>

      <h3>user experience</h3>
      <p>The default cursor is a crosshair.</p>

      <p>In this mode the user can digitize a LineString shape. The first single-click or tap on the map will begin the shape drawing. Once initialized, subsequent single-clicks will add points to the LineString. Finally, a double-click or tap will end the digitization and trigger the shape event.</p>

      <p>On a non-touch device a visual line will follow the mouse cursor from the last point to show the user the next segment of the line they will draw. On all devices, the next segment becomes visible when the user confirms the next point location by clicking or tapping. At any point, the user can hit the escape key to remove one point or, if there is only one point, stop drawing the shape alltogether.</p>

      <p>Similar to pan mode, the user can drag the map to pan, even while drawing a shape. However, to allow a user more accuracy during digitization, the map will not continue panning a little after the user lets go. They can zoom in or out with the scroll wheel. While not drawing, they can also double-click or double-tap to zoom in one level. On some multitouch devices, users can use two fingers to &quot;pinch zoom&quot; (currently not available on Android).</p>

      <p>The user can hold the shift key to temporarily switch to zoom mode.</p>

      <h3>events</h3>
      <p>In drawLineString mode, the geomap widget triggers the following events on the original map div.</p>
      <ul class="list-group">
        <li class="list-group-item">move &ndash; when the user moves the mouse above the map but is not actively panning, this event triggers even while drawing a shape</li>
        <li class="list-group-item">
          <h4 class="list-group-item-heading">click</h4>
          <p class="list-group-item-text">When the user clicks or taps a point on the map without initiating a pan, this event triggers even while drawing a shape.<br>You can choose to cancel any point while a user is drawing a line by calling e.preventDefault() in your event handler.</p>
        </li>
        <li class="list-group-item">dblclick &ndash; when the user double-clicks or double-taps a point on the map but is not actively drawing</li>
        <li class="list-group-item">bboxchange &ndash; when the user changes the bbox by panning or zooming</li>
        <li class="list-group-item">shape &ndash; when the user double-clicks or taps a point on the map after beginning a drawing operation with a single click, this action will send a GeoJSON LineString object to the developer</li>
      </ul>

      <h2 id="modeDrawPolygon">drawPolygon</h2>

      <h3>user experience</h3>
      <p>The default cursor is a crosshair.</p>

      <p>In this mode the user can digitize a Polygon shape. The first single-click or tap on the map will begin the shape drawing. Once initialized, subsequent single-clicks will add points to the Polygon. Finally, a double-click or tap will end the digitization and trigger the shape event.</p>

      <p>On a non-touch device two visual lines will follow the mouse cursor. One from the last point to show the user the next segment of the Polygon they will draw, the other from the first point to show the user an extra segment that will complete the Polygon. On all devices, the next segment becomes visible when the user confirms the next point location by clicking or tapping. At any point, the user can hit the escape key to remove one point or, if there is only one point, stop drawing the shape alltogether.</p>

      <p>Similar to pan mode, the user can drag the map to pan, even while drawing a shape. However, to allow a user more accuracy during digitization, the map will not continue panning a little after the user lets go. They can zoom in or out with the scroll wheel. While not drawing, they can also double-click or double-tap to zoom in one level. On some multitouch devices, users can use two fingers to &quot;pinch zoom&quot; (currently not available on Android).</p>

      <p>The user can hold the shift key to temporarily switch to zoom mode.</p>

      <h3>events</h3>
      <p>In drawPolygon mode, the geomap widget triggers the following events on the original map div.</p>
      <ul class="list-group">
        <li class="list-group-item">move &ndash; when the user moves the mouse above the map but is not actively panning, this event triggers even while drawing a shape</li>
        <li class="list-group-item">
          <h4 class="list-group-item-heading">click</h4>
          <p class="list-group-item-text">When the user clicks or taps a point on the map without initiating a pan, this event triggers even while drawing a shape.<br>You can choose to cancel any point while a user is drawing a line by calling e.preventDefault() in your event handler.</p>
        </li>
        <li class="list-group-item">dblclick &ndash; when the user double-clicks or double-taps a point on the map but is not actively drawing</li>
        <li class="list-group-item">bboxchange &ndash; when the user changes the bbox by panning or zooming</li>
        <li class="list-group-item">shape &ndash; when the user double-clicks or taps a point on the map after beginning a drawing operation with a single click, this action will send a GeoJSON Polygon object to the developer</li>
      </ul>

      <h2 id="modeMeasureLength">measureLength</h2>

      <h3>user experience</h3>
      <p>The default cursor is a crosshair.</p>

      <p>In this mode the user can visually measure the length of lines on the map. The first single-click or tap on the map will begin the measurement. Once initialized, subsequent single-clicks or taps will add points to a LineString being measured. Whenever the mouse moves, a label follows the cursor which displays the total length so far. Touch devices will only see an updated measurment when they add a new point. A double-click or tap will end the measurement and remove all graphics and labels.</p>

      <p>On a non-touch device a visual line will follow the mouse cursor from the last point to show the user the next segment of the line they are measuring and update the measurement. On all devices, the next segment becomes visible when the user confirms the next point location by clicking or tapping. At any point, the user can hit the escape key to remove one point or, if there is only one point, stop measuring alltogether.</p>

      <p>Similar to pan mode, the user can drag the map to pan, even while measuring. The map will continue panning a little after the user lets go. They can zoom in or out with the scroll wheel. While not measuring, they can also double-click or double-tap to zoom in one level. On some multitouch devices, users can use two fingers to &quot;pinch zoom&quot; (currently not available on Android).</p>

      <p>The user can hold the shift key to temporarily switch to zoom mode.</p>

      <p>By default the unit of measurment is meters because the default projection is web mercator meters. If you change the tilingScheme (on tiled services) or switch to a shingled service, the unit of measurment will be based on your new service's units.</p>
      <h3>events</h3>
      <p>In measureLength mode, the geomap widget triggers the following events on the original map div.</p>
      <ul class="list-group">
        <li class="list-group-item">move &ndash; when the user moves the mouse above the map but is not actively panning, this event triggers even while measuring</li>
        <li class="list-group-item">
          <h4 class="list-group-item-heading">click</h4>
          <p class="list-group-item-text">When the user clicks or taps a point on the map without initiating a pan, this event triggers even while measuring.<br>You can choose to cancel any point while a user is drawing a line by calling e.preventDefault() in your event handler.</p>
        </li>
        <li class="list-group-item">dblclick &ndash; when the user double-clicks or double-taps a point on the map but is not actively measuring</li>
        <li class="list-group-item">bboxchange &ndash; when the user changes the bbox by panning or zooming</li>
        <li class="list-group-item">shape &ndash; when the user double-clicks or taps a point on the map after beginning a measure operation with a single click, this action will send a GeoJSON LineString object to the developer</li>
      </ul>

      <h2 id="modeMeasureArea">measureArea</h2>

      <h3>user experience</h3>
      <p>The default cursor is a crosshair.</p>

      <p>In this mode the user can visually measure an area on the map. The first single-click or tap on the map will begin the measurement. Once initialized, subsequent single-clicks or taps will add points to a Polygon being measured. Whenever the mouse moves, a label follows the center of the polygon that displays the total area so far. Touch devices will only see an updated measurment when they add a new point. A double-click or tap will end the measurement and remove all graphics and labels.</p>

      <p>On a non-touch device two visual lines will follow the mouse cursor. One from the last point to show the user the next segment of the Polygon they will draw, the other from the first point to show the user an extra segment that will complete the Polygon we need to calculate area. On all devices, the next segment becomes visible when the user confirms the next point location by clicking or tapping. At any point, the user can hit the escape key to remove one point or, if there is only one point, stop measuring alltogether.</p>

      <p>Similar to pan mode, the user can drag the map to pan, even while measuring. The map will continue panning a little after the user lets go. They can zoom in or out with the scroll wheel. While not measuring, they can also double-click or double-tap to zoom in one level. On some multitouch devices, users can use two fingers to &quot;pinch zoom&quot; (currently not available on Android).</p>

      <p>The user can hold the shift key to temporarily switch to zoom mode.</p>

      <p>By default the unit of measurment is meters because the default projection is web mercator meters. If you change the tilingScheme (on tiled services) or switch to a shingled service, the unit of measurment will be based on your new service's units.</p>

      <h3>events</h3>

      <p>In measureArea mode, the geomap widget triggers the following events on the original map div.</p>
      <ul class="list-group">
        <li class="list-group-item">move &ndash; when the user moves the mouse above the map but is not actively panning, this event triggers even while measuring</li>
        <li class="list-group-item">
          <h4 class="list-group-item-heading">click</h4>
          <p class="list-group-item-text">When the user clicks or taps a point on the map without initiating a pan, this event triggers even while measuring.<br>You can choose to cancel any point while a user is drawing a line by calling e.preventDefault() in your event handler.</p>
        </li>
        <li class="list-group-item">dblclick &ndash; when the user double-clicks or double-taps a point on the map but is not actively measuring</li>
        <li class="list-group-item">bboxchange &ndash; when the user changes the bbox by panning or zooming</li>
        <li class="list-group-item">shape &ndash; when the user double-clicks or taps a point on the map after beginning a measure operation with a single click, this action will send a GeoJSON Polygon object to the developer</li>
      </ul>

      <h2 id="custom-modes">custom modes</h2>

      <p>As mentioned above, you can also set mode to any other string. It will behave exactly like pan mode. However, you can set a different cursor:</p>

      <pre>var map = $( &quot;#map&quot; ).geomap( {
  mode: &quot;click&quot;,
  cursors: { click: &quot;crosshair&quot; }
} );</pre>

      <p>The above example creates a new custom mode, click, and sets the geomap widget to that mode during initialization. When the widget is in this mode, it will behave exactly like pan, but have a crosshair. This means you will get all the same events as pan: move, click, dblclick &amp; bboxchange. A mode like this is useful if you want to give users more accuracy when clicking the map.</p>

      <p>Custom modes will still allow panning. While panning, the cursor will temporarily switch to the pan cursor. You can disable panning for your mode by setting the widget's panning option to false whenever you change the mode option.</p>

      <pre>function setMode( mode ) {
  map.geomap( &quot;option&quot;, {
    mode: mode,
    panning: mode !== &quot;click&quot;
  } );
}</pre>

      <p>In this last example, we create a new map with two modes, find and remove. They both trigger the click event so we can check our current mode and behave differently depending on which one is set, or do nothing if we're not in find or remove mode.</p>

      <pre>var map = $( &quot;#map&quot; ).geomap( {
  mode: &quot;drawPoint&quot;,
  cursors: {
    find: &quot;crosshair&quot;,
    remove: &quot;crosshair&quot;
  },
  shape: function( e, geo ) {
    <span class="comment">// only the draw modes trigger this event</span>
    map.geomap( &quot;append&quot;, geo );
  },
  click: function( e, geo ) {
    switch( map.geomap( &quot;option&quot;, &quot;mode&quot; ) ) {
      case &quot;find&quot;:
        <span class="comment">// search for shapes but just alert the user</span>
        var shapes = map.geomap( &quot;find&quot;, geo, 3 );
        if ( shapes.length &gt; 0 ) {
          alert( &quot;Found &quot; + shapes.length + &quot; shape(s) !&quot; );
        }
        break;

      case &quot;remove&quot;:
        <span class="comment">// search for shapes and remove one of them</span>
        var shapes = map.geomap( &quot;find&quot;, geo, 3 );
        if ( shapes.length &gt; 0 ) {
          map.geomap( &quot;remove&quot;, shapes[ 0 ] );
        }
        break;

      default:
        <span class="comment">// ignore the click event for all other modes: pan, zoom, etc.</span>
        break;
    }
  }
} );</pre>

    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>opacity | geomap</title>
  <meta name="description" content="geomap opacity method">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="opacity" class="container">
    <div data-role="header" data-theme="e">
      <h1>opacity</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>return type</th>
          <td>undefined</td>
        </tr>
        <tr>
          <th>syntax</th>
          <td>$( <i>map or service selector</i> ).geomap( &quot;opacity&quot;, Number opacity )</td>
        </tr>
        <tr>
          <th>usage</th>
          <td><pre>$(&quot;#map&quot;).geomap( &quot;opacity&quot;, .5 )
$(&quot;#map .osm&quot;).geomap( &quot;opacity&quot;, .7 )</pre>
          </td>
        </tr>
      </table>
      <p>This method sets the value of the opacity property of service objects in the services array.</p>
      <p>It will also update the opacity of all images already requested by the service.</p>
      <p>If you call opacity directly on geomap's div element, it will apply to all services. You can target individual services using a CSS selector based on the map div id and the class supplied for the service in its service object or just the id of the service if supplied in its service object.</p>
      <pre>// for example, given the following as the map div
&lt;div id=&quot;map&quot;&gt;&lt;/div&gt;

// and initializing geomap with the following services
$(&quot;#map&quot;).geomap({
  services: [
    {
      id: &quot;water&quot;,
      class: &quot;mass-gis&quot;,
      type: &quot;shingled&quot;,
      src: function ( view ) { return null; }
    },
    {
      id: &quot;towns&quot;,
      class: &quot;mass-gis&quot;,
      type: &quot;shingled&quot;,
      src: function ( view ) { return null; }
    },
    {
      id: &quot;harbor-cruise&quot;,
      type: &quot;shingled&quot;,
      src: function ( view ) { return null; }
    }
  ]
});

// you can later change the opacity of all services
$(&quot;#map&quot;).geomap(&quot;opacity&quot;, .8);

// all mass-gis services
$(&quot;#map .mass-gis&quot;).geomap(&quot;opacity&quot;, .5);

// or a specific service
$(&quot;#harbor-cruise&quot;).geomap(&quot;opacity&quot;, 1.0);</pre>
      <p>This is much faster than changing a service object's opacity value yourself and updating geomap's services property.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>pannable | geomap</title>
  <meta name="description" content="geomap pannable option">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="pannable" class="container">
    <div data-role="header" data-theme="f">
      <h1>pannable</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>Boolean</td>
        </tr>
        <tr>
          <th>default</th>
          <td>true</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>map selector</i> ).geomap( { pannable: true } );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var pannable = $( <i>map selector</i> ).geomap( &quot;option&quot;, &quot;pannable&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><pre>$( <i>map selector</i> ).geomap( &quot;option&quot;, &quot;pannable&quot;, false );</pre></td>
        </tr>
      </table>

      <p>The pannable option determines whether or not a user can pan the map.</p>
      
      <p>When true, the default, users can drag the map image or tiles to change the bbox in any <a href="mode.html">mode</a> except for &quot;static&quot;. For example, they can pan the map in the middle of drawing a polygon with the drawPolygon mode.</p>

      <p>When false, a user's dragging of the map image will not cause it to move regardless of what mode the widget is in. Developers can still make programatic changes to the bbox, such as setting options and calling methods.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>pixelSize | geomap</title>
  <meta name="description" content="geomap pixelSize option">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="pixelSize" class="container">
    <div data-role="header" data-theme="f">
      <h1>pixelSize</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>Number</td>
        </tr>
        <tr>
          <th>default</th>
          <td>156543.03392799936</td>
        </tr>
        <tr>
          <th>init</th>
          <td><i>cannot be initialized</i></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var pixelSize = $( <i>selector</i> ).geomap( &quot;option&quot;, &quot;pixelSize&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><i>read only</i></td>
        </tr>
      </table>
      <p>The pixel size is the number of map units a single pixel occupies in the current view. A more interesting way to think of it is the Earth-size of the pixel.</p>
      <p>Because the default internal projection is web mercator meters, the default return value for pixelSize is in meters even if you set other map values in geodetic coordinates, e.g., lon/lat. The unit type will always match the type you set on tilingScheme for tiled maps or bboxMax for shingled (dynamic) maps. For more information on how the plugin handles projections, please read the geo section of this documentation.</p>
      <p>The map's pixel size is read-only. To change it you will need to use one of the mutable properties such as bbox, center or zoom.</p>
      <p>pixelSize is calculated based on tilingScheme &amp; zoom for tiled maps. It is based on the bbox/bboxMax ratio for shingled maps.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>refresh | geomap</title>
  <meta name="description" content="geomap refresh method">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="refresh" class="container">
    <div data-role="header" data-theme="e">
      <h1>refresh</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>return type</th>
          <td>undefined</td>
        </tr>
        <tr>
          <th>syntax</th>
          <td>$( <i>map or service selector</i> ).geomap( &quot;refresh&quot; [ , Boolean force ] )</td>
        </tr>
        <tr>
          <th>usage</th>
          <td><pre>$(&quot;#map&quot;).geomap( &quot;refresh&quot; )

$(&quot;#map&quot;).geomap( &quot;refresh&quot;, true )

$(&quot;#map .my-dynamic-service&quot;).geomap( &quot;refresh&quot;, true )</pre></td>
        </tr>
      </table>

      <p>This method refreshes one or more services and shapes in the map. Usually, changing geomap options or calling methods automatically refreshes the map appropriately. However, you can call this after you have added or removed shapes to geomap by passing false as the refresh argument to the append, remove, or empty methods. This method is also useful in the case of dynamic server data.</p>

      <p>Without a service selector, all services on the map will be refreshed.</p>

      <p>The force option will re-request images for tiles already in the map view. Keep in mind, though, that this does not guarantee you will get updated images. See the Dynamic Data section below for tips.</p>

      <h2>Dynamic Data</h2>

      <p>There are three factors that can prevent jQuery Geo from getting a fresh image from a web server.</p>
      
      <ul>
        <li>if the user does not interact with the map and you do not call refresh, jQuery Geo will not request new images</li>
        <li>if the user does interact with the map, you call refresh with no arguments, or you call .geomap( &quot;refresh&quot;, false ):
          <ul>
            <li>for tiled services: jQuery Geo will only request images for tiles that it does not already have</li>
            <li>for shingeld services: a new image is always requested but the browser may supply a cached image</li>
          </ul>
        </li>
        <li>if you call .geomap( &quot;refresh&quot;, true ), jQuery Geo will:
          <ul>
            <li>for tiled services: request a new image for existing tiles but the web browser is free to supply a cached image instead of retriving one from the web server</li>
            <li>for shinged services: this is also true; if the final image URL is the same as a previous image URL the browser may supply a cached image</li>
          </ul>
        </li>
      </ul>

      <p>A web browser will normally cache images that have already been loaded. On top of that, jQuery Geo will not, by default, request images for tiles that it has already placed. In the case of dynamic data, where you want to update what's on the map without requiring a pan or zoom or also update tiles that have already been placed, you have a couple options.</p>

      <h3>use uncachable URLs</h3>

      <p>The first option is to use a function for the <a href="services.html">src property of your service object</a>. In that function, return a different URL every time even if all of the properties of the view object are the same as a previous call. If we were to use jQuery's implementation of the cache option in $.ajax as inspiration, our src function could look similar to:</p>

      <pre>src: function( view ) {
  return &quot;my.dynamic.tile.service/&quot; + view.zoom + &quot;/&quot; + view.tile.column + &quot;/&quot; + view.tile.row + &quot;.png?_=&quot; + $.now( );
}</pre>

      <p>The _ input in the query string will be a different number on every request, regardless of the value of zoom, column, and row. Most services will ignore extraneous query string inputs and the web browser will not be able to cache the image.</p>

      <h3>use the Cache-Control HTTP header</h3>

      <p>Another way to achieve the same result without modifying your image URLs is to use the HTTP header: Cache-Control. By returning this header with the no-cache value, you can tell the web browser to not cache the image. Then, when you call .geomap( &quot;refresh&quot;, true ), the web browser will re-request images for tiles even if it has done so one already. This option is only possible if you have some control over the web server that supplies map images. How to add the header is specific to your web server and beyond the scope of these docs. It can usually be done in the web server's configuration file or in the web service itself where you generate the images.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>remove | geomap</title>
  <meta name="description" content="geomap remove method">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="remove" class="container">
    <div data-role="header" data-theme="e">
      <h1>remove</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>return type</th>
          <td>jQuery collection</td>
        </tr>
        <tr>
          <th>syntax</th>
          <td>.geomap( &quot;remove&quot;, Object shape ( <a href="http://geojson.org/geojson-spec.html" rel="external">GeoJSON object</a> ) | Array&lt;Object&gt; shapes [ , Boolean refresh ] )</td>
        </tr>
        <tr>
          <th>usage</th>
          <td><pre>$( <i>map or service selector</i> ).geomap( &quot;remove&quot;, existingShape )
$( <i>map or service selector</i> ).geomap( &quot;remove&quot;, existingShape, false )
$( <i>map or service selector</i> ).geomap( &quot;remove&quot;, [ existingShape1, existingShape2 ] )</pre></td>
        </tr>
      </table>

      <p>The remove method removes a shape (or array of shapes) that you have previously added with the append method. The existing shapes can be an object references used in a call to <a href="append.html">append</a> which you have held on to or ones that you retrieved by using the <a href="find.html">find</a> method.</p>

      <p>The jQuery UI widget factory returns the original jQuery collection to maintain call chaining.</p>

      <h2>delaying refresh</h2>
      <p>The optional refresh argument determines if geomap refreshes the map graphics after this call to remove. It defaults to true. If you pass false, geomap will remove the shape internally but not immediately redraw the graphics. The changes will display if the user moves the map or you call geomap's refresh method.</p>
      <p>If the shape is not found on the specified service, the map is not changed and will not be refreshed even if you pass true for the refresh argument.</p>
      <h2>service-level shapes</h2>
      <p>Similar to how you can append shapes to specific services, you can remove shapes from specific services as well.</p>
      <p>You do this by targeting a service inside a map instead of the map itself for your call to geomap's remove method. For example, the default map service has the CSS class: osm. We can remove a shape from that service specifically by using jQuery to target the service:</p>
      <pre>$( &quot;#map .osm&quot; ).geomap( &quot;remove&quot;, shape );</pre>
      <p>Shapes appended to a specific service will not be removed by calling remove on the map itself. For example, the shape will remain after this sequence:<p>
      <pre>$( &quot;#map .osm&quot; ).geomap( &quot;append&quot;, shape );
$( &quot;#map&quot; ).geomap( &quot;remove&quot;, shape );</pre>
      <p>To remove all references to a shape from the map and all services, you can use the comma selector and the built-in geo-service CSS class:</p>
      <pre><span class="comment">// remove the shape from both the map widget and any services</span>
$( &quot;#map,#map .geo-service&quot; ).geomap( &quot;remove&quot;, shape );</pre>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>resize | geomap</title>
  <meta name="description" content="geomap resize method">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="resize" class="container">
    <div data-role="header" data-theme="e">
      <h1>resize</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>return type</th>
          <td>undefined</td>
        </tr>
        <tr>
          <th>syntax</th>
          <td>.geomap( &quot;resize&quot; )</td>
        </tr>
        <tr>
          <th>usage</th>
          <td><pre>$(&quot;#map&quot;).geomap( &quot;resize&quot; )</pre></td>
        </tr>
      </table>
      <p>
        This method tells the geomap widget to recalculate its frame and adjust its bbox to fit a new size. The map will maintain its center point and pixel size and expand or contract to fill the new surroundings.</p>
      <p>
        The geomap widget watches the browser window for you. If your map widget&#39;s div position is related to the window in some way, geomap will automatically resize to fit when the window size changes. If the map widget&#39;s div is not related to the window and you manually change its size, you need to call resize so that the map can adjust.</p>
      <p>
        This method refreshes the map.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>scroll | geomap</title>
  <meta name="description" content="geomap scroll option">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="scroll" class="container">
    <div data-role="header" data-theme="f">
      <h1>scroll</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>String</td>
        </tr>
        <tr>
          <th>default</th>
          <td>&quot;default&quot;</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>map selector</i> ).geomap( { scroll: &quot;default&quot; } );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var scroll = $( <i>map selector</i> ).geomap( &quot;option&quot;, &quot;scroll&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><pre>$( <i>map selector</i> ).geomap( &quot;option&quot;, &quot;scroll&quot;, &quot;off&quot; );</pre></td>
        </tr>
      </table>

      <p>The scroll option determines what the map widget does when the user rotates a mouse wheel. There are currently three values: default, zoom, and off. However, default is currently the same as zoom.</p>
      
      <p>When scroll is default or zoom, users can use a mouse wheel to zoom the map in or out.</p>

      <p>When set to off, mouse wheel scrolling is ignored. This is useful when the document itself or a section that contains the map requires scrolling due to content. A desktop user will expect to be able to use the mouse wheel to scroll the document and you don't want the map to interfere. For example, if the user's mouse cursor is over a map that's part of a long document, there's a greater chance they will want the mouse wheel to scroll document instead of zooming the map. Set the scroll property to &quot;off&quot; to ensure the wheel will work as expected.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>services | geomap</title>
  <meta name="description" content="geomap services option">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/bootstrap.min.css" />
  <link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
  <link rel="stylesheet" href="../css/style.css?v=2">
</head>

<body>

  <div id="services" class="container">
    <div data-role="header" data-theme="f">
      <h1>services</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>Array</td>
        </tr>
        <tr>
          <th>default</th>
        </tr>
        <tr>
          <td colspan=2><pre>[ {
  'class': 'osm',
  type: 'tiled',
  src: function( view ) {
    return 'http://otile' + ((view.index % 4) + 1) + '.mqcdn.com/tiles/1.0.0/osm/' + view.zoom + '/' + view.tile.column + '/' + view.tile.row + '.png';
  },
  style: {
    visibility: 'visible',
    opacity: 1.0
  },
  attr: '&lt;p&gt;Tiles Courtesy of &lt;a href=&quot;http://www.mapquest.com/&quot; target=&quot;_blank&quot;&gt;MapQuest&lt;/a&gt; &lt;img src=&quot;http://developer.mapquest.com/content/osm/mq_logo.png&quot;&gt;&lt;/p&gt;'
} ] );</pre></td>
        </tr>
        <tr>
          <th>init</th>
        </tr>
        <tr>
          <td colspan="2">
            <p>One tiled service with Open Street Map:</p>
            <pre>$( <i>selector</i> ).geomap( { services: [ {
  type: 'tiled',
  src: function( view ) {
    return 'http://tile.openstreetmap.org/' + view.zoom + '/' + view.tile.column + '/' + view.tile.row + '.png';
  },
  attr: '&amp;copy; OpenStreetMap &amp;amp; contributors, CC-BY-SA'
} ] } );</pre>
          
            <p>Same service but using a template string:</p>
            <pre>$( <i>selector</i> ).geomap( { services: [ {
  type: 'tiled',
  src: 'http://tile.openstreetmap.org/{{:zoom}}/{{:tile.column}}/{{:tile.row}}.png',
  attr: '&amp;copy; OpenStreetMap &amp;amp; contributors, CC-BY-SA'
} ] } );</pre>
          
            <p>Tiled service with an empty shingled service for graphics, e.g., points of interest:</p>
            <pre>$( <i>selector</i> ).geomap( { services: [ {
  type: 'tiled',
  src: 'http://tile.openstreetmap.org/{{:zoom}}/{{:tile.column}}/{{:tile.row}}.png',
  attr: '&amp;copy; OpenStreetMap &amp;amp; contributors, CC-BY-SA'
}, {
  id: 'some-pois',
  type: 'shingled'
}] } );</pre>
          
            <p>Shingled WMS service (MassGIS):</p>
            <p>Your service may require changes to $.geo.proj, tilingScheme, and bboxMax. See the <a href="/#component-examples">shingled services</a> example to see this in action.</p>
            <pre>var massGisHost = 'http://giswebservices.massgis.state.ma.us/geoserver/wms';
var imageTemplate = '&amp;SERVICE=WMS&amp;VERSION=1.1.1&amp;REQUEST=GetMap&amp;FORMAT=image/png&amp;SRS=EPSG:26986&amp;BBOX={{:bbox}}&amp;WIDTH={{:width}}&amp;HEIGHT={{:height}}';

$( <i>selector</i> ).geomap( { services: [ {
  type: 'shingled',
  src: massGisHost + "?LAYERS=massgis_basemap" + imageTemplate,
  attr: '&amp;copy; 2011 Commonwealth of Massachusetts'
} ] } );</pre>
          
            <!--
            <p>A single large image as a virtual shingled service:</p>
            <p>Automatically sets other geomap options. See the <a href="#type-image">image service type</a> section for details.</p>
            <pre>$.geo.proj = null;

$( <i>selector</i> ).geomap( { services: [ {
  type: 'image',
  src: '/collection_234_hd.jpg'
} ] } );</pre>
          
            <p>A large image with an empty shingled service for graphics, e.g., annotations:</p>
            <pre>$.geo.proj = null;

$( <i>selector</i> ).geomap( { services: [ {
  type: 'image',
  src: '/collection_234_hd.jpg'
}, {
  id: 'annotations',
  type: 'shingled'
} ] } );</pre>
            -->
          
          </td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var services = $( <i>selector</i> ).geomap( 'option', 'services' );</pre></td>
        </tr>
        <tr>
          <th>set</th>
        </tr>
        <tr>
          <td colspan=2><pre>$( <i>selector</i> ).geomap( 'option', 'services', [ {
  id: 'openstreetmap',
  type: 'tiled',
  src: function( view ) {
    return 'http://tile.openstreetmap.org/' + view.zoom + '/' + view.tile.column + '/' + view.tile.row + '.png';
  },
  attr: '&amp;copy; OpenStreetMap &amp;amp; contributors, CC-BY-SA'
} ]</pre></td>
        </tr>
      </table>

      <p>The services option is an array of service objects.</p>

      <h2>service object</h2>

      <p>Service objects are JavaScript objects that control how the geomap widget displays maps, shapes, and other images.</p>

      <p>Two of the service object's properties are required: type &amp; src. The id and class properties are optional but at least one is recommended so you can target specific services with the toggle, opacity, and shape methods.</p>

      <p>Some service types have service-specific properties to further configure how they operate.</p>

      <h3>type</h3>
      <p>A service object has a type property which is either 'tiled' or 'shingled'. <!--, or 'image'.--></p>

      <h4 id="type-tiled">tiled</h4>
      <p>Tiled servies will get one image request per tile needed to fill a given view when the map refreshes. The tile request's bbox will only be the size of the given tile.</p>

      <p>This is the most common type of service on the web as many map servers prerender tiles at speicifc scales for fast delivery.</p>
      
      <h4 id="type-shingled">shingled</h4>
      <p>Shingled services will get one image request each time the map refreshes. The bbox will be the extent of the current map view.</p>

      <p>When panning, a shingled service will keep old images around and layer new images on top. This creates a shingling effect and, when previously viewed areas are panned back into view, the user will see the old images while waiting for the latest one to load.</p>

      <!--
      <h4 id="type-image">image</h4>
      <p>Image services will make only one request for the image and let a user pan and zoom as if it were a shingled service. This is good for displaying high resolution images without an actual, server-side image service. The images must be from the same domain as the page on which jQueryGeo runs or you will get a cross-domain security error (unless the other web server gives you access via CORS).</p>

      <p><b>Note</b>: This type forces other geomap settings to match an image's coordinate system. Specifically: <ul><li><a href="tilingScheme.html">tilingScheme</a> will be null</li><li><a href="bboxMax.html">bboxMax</a> will be the size of the image, and</li><li><a href="axisLayout.html">axisLayout</a> will be 'image'</li></ul> This will affect any other services you wish to add as they must be shinged and support an image's axisLayout.</p>

      <p><b>Also note</b>: <a href="../geo/proj.html">$.geo.proj</a> must be set to null but that it currently outside the bounds of the geomap widget and a service object. You should set it to null before initializing a map with an image service.</p>

      <pre><code>$.geo.proj = null;

var imageCanvas = $( '#image-canvas' ).geomap( {
  services: [ {
    type: 'image',
    src: 'big-image.jpg'
  } ]
} );</code></pre>
      -->

      <h3>id</h3>
      <p>Each service can have an id that distinguishes it from other service objects in the array. The id is a string and must be follow the HTML element id naming conditions. If present, the id must be unique across all services in all maps as well as unique from any other HTML element on the page. The default service object of a geomap widget does not have an id.</p>

      <h3>class</h3>
      <p>Each service can have a class as well. The class is a string and must be follow the CSS class naming conditions. You can consider this as the class of images the service will supply and usually name it after the service, such as osm, mass-gis, etc. The default service object of a geomap widget has the class: osm.</p>
      <p>All services also get the class geo-service whether you supply a class to the service object or not. Therefore, the default service is both .osm (as part of its service object) and .geo-service (as added by the widget).</p>
      <p>Unfortunately, class is a reserved word in JavaScript. When you specify class in your service object, you must quote the word class. This is exactly how it's done in jQuery itself when applying attributes to an element based on an object. To quote the jQuery API:</p>
      <blockquote>The name &quot;class&quot; must be quoted since it is a JavaScript reserved word, and &quot;className&quot; cannot be used since it is not the correct attribute name.</blockquote>

      <h3>src</h3>
      <p>The src property of a service object can be one of the following options:</p>
      <ul>
        <li>a function that accepts an object specifying information about the current image request which <b>returns a URL to an image</b> or null to indicate that no image is available or required</li>
        <li>a function that accepts an object specifying information about the current image request which <b>returns a jQuery Promise object</b> and, later, calls either resolve passing a URL to an image or reject to indicate that no image is available</li>
        <li>a template string that the geomap widget can use to build a URL itself</li>
        <li>an empty string, null, or missing (for adding an empty service on which to append graphics)</li>
      </ul>

      <p>For tiled services, the image is placed at the tile location specified. For shingled and image services, the image will fill the whole map view.</p>

      <p>If the browser's request of the image results in a 404 status the map will not show that tile or image.</p>

      <p>When src is a function, the argument to that function has the following properties:</p>

      <dl class="dl-horizontal">
        <dt>bbox (Array)</dt><dd>A <a href="http://geojson.org/geojson-spec.html#bounding-boxes" rel="external">GeoJSON bounding box</a> of the current tile or image in map units. The map unit type (projected or geodetic) depends on how you last set the bbox or center options on the geomap widget.</dd>
        <dt>width (Number)</dt><dd>The width of the tile or image in pixels.</dd>
        <dt>height (Number)</dt><dd>The height of the tile or image in pixels.</dd>
        <dt>zoom (Number)</dt><dd>The current zoom level of the map during this request.</dd>
        <dt>tile (Object)</dt><dd>If the service is tiled, this object has column and row properties specifying the location of the tile of this request in the current zoom, otherwise it is null.</dd>
        <dt>index (Number)</dt><dd>A whole number which is usually incremented between requests that you can use to cycle image URLs to different index, e.g., if there are four servers hosting the same tile images named tile0, tile1, tile2 and tile3 you can target them in your src function with the string: &quot;tile&quot; + (view.index % 4).</dd>
      </dl>

      <p>You can use the properties of this argument to build and return a URL (or initiate an AJAX request and return a Promise).</p>

      <p>For more infomration about returning a jQuery Promise, please read the section on <a href="http://api.jquery.com/category/deferred-object/" rel="external">Deferred Objects</a> in the jQuery API documentation. It might useful to know that, as of jQuery 1.5, the <a href="http://api.jquery.com/jQuery.ajax/" rel="external">$.ajax method</a> returns a Promise object. If your ajax call returns a URL to an image, your src function can look something like this:</p>

      <pre>src: function ( view ) { return $.ajax( { ... } ); }</pre>

      <p>When src is a string, those same properties can be used in the template by surrounding each property with: {{:propertyName}}.</p>

      <p>The default value for src is a function because it is slightly faster than rendering a template and we have better control of the view.index property. However, as an example, we can rewrite the default src function as a template string:</p>

      <p><b>Note: Alpha releases used a {{= }} syntax but there is a breaking change in the beta version due to <a href="http://www.borismoore.com/2012/03/approaching-beta-whats-changing-in_06.html" rel="external">changes in jsRender</a>. Please use the new {{: }} syntax.</b></p>

      <pre>src: &quot;http://otile1.mqcdn.com/tiles/1.0.0/osm/{{:zoom}}/{{:tile.column}}/{{:tile.row}}.png&quot;</pre>

      <p>A couple advantages of using a string are that it is more concise and, unlike a function, can be stored as JSON.</p>

      <p>You do not have to have template parameters in the string, so if you want a static map image, you can set src to a static URL.</p>

      <h3>attr</h3>

      <p>The attr property is optional. It stands for attribution and is a way to give credit to the source of your map imagery. It defaults to an empty string if not specified in a service object. When present, the map widget displays the HTML provided on the bottom-left corner of the map when the service is visible. Users can click links but cannot interact with all other text or images.</p>

      <p><b>Note:</b> If you display non-map content over the map div, links in the attribution will show through that content unless you either remove anchor elements from your service's attr property or give your overlay content a z-index greater than 1.</p>

      <h3>style</h3>
      <p>The style property is optional. It contains presentation options for the service.</p>

      <p>The visibility property defaults to &quot;visible&quot;. It determines whether or not the map will show images from this service while refreshing. You can change the visibility of a service either by changing the visibility property of the service object to &quot;visible&quot; or &quot;hidden&quot; and then setting geomap's services option or by using the toggle method of the geomap widget. The latter is recommended because it is a lot faster and does not cause services to be recreated.</p>

      <p>The opacity defaults to 1.0. It determines how transparent a service is when it is visible. Valid values are floating point numbers between 0 and 1 inclusive. Services with an opacity of 0 will not show on the map even if visible is true. You can change the opacity of a service either by changing the opacity property of the service object and then setting geomap's services option or by using the opacity method of the geomap widget. The latter is recommended because it is a lot faster and does not cause services to be recreated.</p>

      <h3>shinglesMax</h3>

      <p>This property is for shingled and image services. It limits the number of images the services will keep around after sequential panning motions. It is useful to limit the number of shingles to 1 if you have a map service which returns images having transparent areas and/or data that updates frequently or based on the current view. Otherwise, old data (from the previously viewed shingles) will be visible and may be out of date or in the wrong place, e.g., server-generated labels which change depending on even slight variations of the bounding box.</p>

      <pre>$('#map').geomap( {
services: [ {
  type: 'shingled',
  src: 'http://test.jquerygeo.com/wms?LAYERS=transparent_labels&amp;SERVICE=WMS&amp;VERSION=1.3.0&amp;REQUEST=GetMap&amp;FORMAT=image%2Fpng&amp;TRANSPARENT=true&amp;BBOX={{:bbox}}&amp;WIDTH={{:width}}&amp;HEIGHT={{:height}}',
  shinglesMax: 1
  } ]
} );</pre>

      <h2>modifying services</h2>

      <p>By default, the geomap widget starts with one service object in the services array. The default service object will display OpenStreetMap data via <a href="http://open.mapquest.com/" rel="external" target="_blank">mapquest open</a> tiles. Setting the services option will replace all existing services with a new set that you specify. You can set a specific part of of a specific service by getting the current array, modifying, adding, or deleting one of the service objects and then re-setting the services option with the modified array.</p>

      <p><b>Note: It is always better to set the services option once, during init, rather than adding or modifying services after the map has been created.</b> Some of the following samples show that it is possible to modify the services option after map initialization through the services option even though it's not recommended.</p>

      <pre><span class="comment">// create a map</span>
var map = $( &quot;#map&quot; ).geomap( );

<span class="comment">// get the current services array</span>
var services = map.geomap( &quot;option&quot;, &quot;services&quot; );

<span class="comment">// add a service</span>
services.push( {
  id: &quot;Ortho_MapQuest&quot;,
  type: &quot;tiled&quot;,
  src: function (view) {
    return &quot;http://oatile&quot; + ((view.index % 4) + 1) + &quot;.mqcdn.com/naip/&quot; + view.zoom + &quot;/&quot; + view.tile.column + &quot;/&quot; + view.tile.row + &quot;.png&quot;;
  },
  attr: &quot;&lt;p&gt;Tiles Courtesy of &lt;a href='http://www.mapquest.com/' target='_blank'&gt;MapQuest&lt;a&gt; &lt;img src='http://developer.mapquest.com/content/osm/mq_logo.png'&gt;&lt;p&gt;&quot;
} );

<span class="comment">// hide the first service in the services array</span>
services[ 0 ].style.visibility = &quot;hidden&quot;;

<span class="comment">// re-set the services option</span>
map.geomap( &quot;option&quot;, &quot;services&quot;, services );</pre>

      <p>The following code is more efficient than the last sample:</p>

      <pre><span class="comment">// build an array of service objects ahead of time</span>
var services = [ {
  id: &quot;OSM&quot;,
  type: &quot;tiled&quot;,
  src: &quot;http://tile.openstreetmap.org/{{:zoom}}/{{:tile.column}}/{{:tile.row}}.png&quot;,
  attr: &quot;&amp;copy; OpenStreetMap &amp;amp; contributors, CC-BY-SA&quot;
  style: { visibility: &quot;hidden&quot; } <span class="comment">// default to hidden</span>
}, {
  id: &quot;Ortho_MapQuest&quot;,
  type: &quot;tiled&quot;,
  src: function (view) {
    return &quot;http://oatile&quot; + ((view.index % 4) + 1) + &quot;.mqcdn.com/naip/&quot; + view.zoom + &quot;/&quot; + view.tile.column + &quot;/&quot; + view.tile.row + &quot;.png&quot;;
  },
  attr: &quot;&lt;p&gt;Tiles Courtesy of &lt;a href='http://www.mapquest.com/' target='_blank'&gt;MapQuest&lt;a&gt; &lt;img src='http://developer.mapquest.com/content/osm/mq_logo.png'&gt;&lt;p&gt;&quot;
} ];

<span class="comment">// create a map with all services in place</span>
var map = $( &quot;#map&quot; ).geomap( { services: services } );</pre>

      <p>To change visibility or opacity of a service after you have created the map, you should use the <a href="toggle.html">toggle</a> or <a href="opacity.html">opacity</a> methods.
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>shapeStyle | geomap</title>
  <meta name="description" content="geomap shapeStyle option">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="shapeStyle" class="container">
    <div data-role="header" data-theme="f">
      <h1>shapeStyle</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>Object ( geomap style )</td>
        </tr>
        <tr>
          <th>default</th>
          <td><pre>{
  borderRadius: &quot;8px&quot;,
  color: &quot;#7f0000&quot;,
  fill: undefined,
  fillOpacity: .2,
  height: &quot;8px&quot;,
  opacity: 1,
  stroke: undefined,
  strokeOpacity: 1,
  strokeWidth: &quot;2px&quot;,
  visibility: &quot;visible&quot;,
  width: &quot;8px&quot;
}</pre>
          </td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>map or service selector</i> ).geomap( { shapeStyle: { color: &quot;green&quot; } } );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var shapeStyle = $( <i>map or service selector</i> ).geomap( &quot;option&quot;, &quot;shapeStyle&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><pre>$( <i>map or service selector</i> ).geomap( &quot;option&quot;, &quot;shapeStyle&quot;, { strokeWidth: &quot;4px&quot; } );</pre></td>
        </tr>
      </table>
      <p>The shapeStyle option retrieves or updates the <i>base</i> style of shapes appended to the map.</p>
      <p>This differs from the drawStyle option which defines the style of incomplete lines and polygons as they are being drawn.</p>
      <p>Two extra color properties, stroke and fill, are not defined by default and use the value of the color property until they are defined individually.</p>
      <p>This option changes specific properties of the internal base style. If you send an incomplete style object, only the style properties you reference are updated.</p>
      <p>Similar to CSS, you can override this style on a per-shape basis by passing a different style to the append method.</p>
      <p>Changing this base style will update how geomap draws existing shapes that do not have their own style. For shapes that do have their own style, changing the base shapeStyle will update any style properties not referenced in the shape-specific style. For example, assume the following:</p>
      <ol>
        <li>
          <span>the base shapeStyle starts with its initial style having a red color (applied to both stroke and fill) and a strokeWidth of 2px</span>
          <pre>var map = $( '#map' ).geomap( );
map.geomap( 'option', 'shapeStyle' );
  // {
  //   color: "#7f0000"
  //   ...
  //   strokeWidth: "2px"
  // }</pre>
        </li>
        <li>
          <span>you call append with a style that increases the stroke width to 4px but does not supply a stroke color</span>
          <pre>$( '#map' ).geomap(
  'append',
  { type: 'Point', coordinates: [ -71, 42 ] },
  { strokeWidth: '4px' }
);</pre>
        </li>
        <li>
          <span>you later change the base shapeStyle's stroke color to blue</span>
          <pre>$( '#map' ).geomap( 'option', 'shapeStyle', { stroke: '#00f' } );</pre>
        </li>
      </ol>
      <p>The shape described in the above example will draw with a blue stroke color and a strokeWidth of 4px.</p>
      <p>You can also set a base style for a specific service. These are called service-level styles and apply only to service-level shapes. To do this, target a service inside a map instead of the map itself for your call to geomap's shapeStyle option. To expand upon the above example, consider the following additional steps:</p>
      <ol start="4">
        <li>
          <span>you change the shapeStyle option of the default service specifically so that points are twice as long as usual; the default service has the CSS class: osm</span>
          <pre>$( &quot;#map .osm&quot; ).geomap( &quot;option&quot;, &quot;shapeStyle&quot;, { width: &quot;16px&quot; } )</pre>
        </li>
        <li>
          <span>you append a second point directly to the default .osm service</span>
          <pre>$( &quot;#map .osm&quot; ).geomap( 
  &quot;append&quot;,
  { type: &quot;Point&quot;, coordinates: [ -70.5, 42.5 ] }
);</pre>
        </li>
      </ol>
      <p>This second point will:</p>
      <ul>
        <li>have a blue stroke color because it cascades from the base shapeStyle for the map as a whole (which you set with your first call to shapeStyle)</li>
        <li>have a strokeWidth of only 2px because it is unaffected by the style applied to the first shape during the first append call</li>
        <li>have a width of 16px which it gets from the shapeStyle of the service where it was appended</li>
      </ul>
      <p>This is the only option that can be applied to services. All other options require a reference to the original map element.</p>
      <p>When called with a second argument to set the shapeStyle, the jQuery UI widget factory returns the original jQuery collection to maintain call chaining.</p>
      <p>Please see the style section at the bottom of the <a href="../geomap/index.html#geomap-style">geomap widget</a> page for more information about the style object.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>shift | geomap</title>
  <meta name="description" content="geomap shift option">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="shift" class="container">
    <div data-role="header" data-theme="f">
      <h1>shift</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>String</td>
        </tr>
        <tr>
          <th>default</th>
          <td>&quot;default&quot;</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>map selector</i> ).geomap( { shift: &quot;default&quot; } );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var shift = $( <i>map selector</i> ).geomap( &quot;option&quot;, &quot;shift&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><pre>$( <i>map selector</i> ).geomap( &quot;option&quot;, &quot;shift&quot;, &quot;off&quot; );</pre></td>
        </tr>
      </table>

      <p>The shift option determines how the shift key affects the map during drag operations in different modes. There are currently four values: zoom, dragBox, default, and off.</p>
      
      <h2>zoom</h2>

      <p>When shift is set to zoom and a user holds the shift key before holding the mouse button down, the map temporarily switches to zoom mode. In this state the user can perform a marquee zoom by clicking and holding one point and dragging the mouse cursor. A box will form. When the user lets go of the mouse, the map will zoom to the closest approximation of the bbox of the drawn shape.</p>

      <h2>dragBox</h2>

      <p>When shift is set to dragBox and a user holds the shift key before holding the mouse button down, the map temporarily switches to dragBox mode. In this state the user can click and hold one point and then drag the mouse cursor. A box will form. When the user lets go of the mouse, jQuery Geo will trigger a shape event passing a GeoJSON Polygon representation of the dragged bbox as the geo argument. The Polygon object also has the GeoJSON the bbox property.</p>

      <h2>default</h2>

      <p>When shift is set to default, it behaves like dragBox when the mode option is dragBox and behaves like zoom in all other modes. For example, a shift-drag in pan mode will temporarily switch the map to zoom mode (thus zooming the map and triggering a bboxchange event) while a shift-drag in dragBox mode will stay in dragBox mode (thus triggering a shape event).</p>

      <h2>off</h2>

      <p>When shift is set to off, the shift key is ignored. For example, if mode is pan and the user holds the shift key and begins to drag, the map will pan as normal.</p>

      <h2>static maps</h2>

      <p>When the map's mode option is set to static, the map ignores all user interaction so the shift key is also ignored.</p>

    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>tilingScheme | geomap</title>
  <meta name="description" content="geomap tilingScheme property">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="tilingScheme" class="container">
    <div data-role="header" data-theme="f">
      <h1>tilingScheme</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>Object</td>
        </tr>
        <tr>
          <th>default</th>
          <td><pre>{
  tileWidth: 256,
  tileHeight: 256,
  levels: 18,
  basePixelSize: 156543.03392799936,
  pixelSizes: null,
  origin: [ -20037508.342787, 20037508.342787 ]
}</pre></td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( { tilingScheme: {
  tileWidth: 256,
  tileHeight: 256,
  levels: 18,
  basePixelSize: 156543.03392799936,
  pixelSizes: null,
  origin: [ -20037508.342787, 20037508.342787 ]
} } );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var tilingScheme = $( <i>selector</i> ).geomap( &quot;option&quot;, &quot;tilingScheme&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><pre>$( <i>selector</i> ).geomap( &quot;option&quot;, &quot;tilingScheme&quot;, null );</pre></td>
        </tr>
      </table>

      <p>The tilingScheme property defines a grid that the geomap widget can use to build a map view as adjacent tiles instead of a single, full image each time.</p>

      <p>Only tiled services will get a non-null tile property as an argument to their src method or template. Shingled services, even when layered on top of a tiled map will only get bbox data.</p>

      <p>When a tilingScheme is set, the geomap widget will limit the user to specific zoom levels defined by the tiling scheme.</p>

      <p><b>If you set tilingScheme to null, you must explicitly set <a href="bboxMax.html">bboxMax</a>.</b></p>

      <p><b>Also, if you are using only shingled services you must set tilingScheme to null, and therefore explicitly set bboxMax.</b></p>

      <p>You can set the map widget to be fully dynamic and allow any arbitrary zoom level by setting the tilingScheme to null. This is only useful if all of your services are backed by live spatial data and can produce map images at any scale.</p>

      <p>This is one of the few places where you must use non-geodetic (i.e., non-lon/lat) units even if you are using longitude &amp; latitude for properties such as center or bbox. You must use projected units when defining a tiling scheme. The default map tiles use web mercator meters.</p>

      <p>All tilingScheme objects have the first three of the following properties. Apart from those, a tilingScheme object must have either <b>just</b> the pixelSizes property or <b>both</b> basePixelSize &amp; levels.</p>

      <table>
        <tr><th>tileWidth (Number)</th><td>the width in pixels of a single tile</td></tr>
        <tr><th>tileHeight (Number)</th><td>the height in pixels of a single tile</td></tr>
        <tr><th>origin (Array&lt;Number&gt;)</th><td>a <a href="http://geojson.org/geojson-spec.html#positions" rel="external">GeoJSON position</a> for the top-left corner of the map tiles in map units, this is used to correctly position tiles into the map view</td></tr>
        <tr><th>pixelSizes (Array&lt;Number&gt;)</th><td>an array of all pixel sizes (called resolutions on Esri's products) hosted by the map service, each one represents a zoom level therefore the total number of zoom levels equals the length of the pixelSizes array</td></tr>
        <tr><th>basePixelSize (Number)</th><td>the pixelSize represented by the tiles on zoom level 0, used when each pixelSize is a power of two smaller than the previous one</td></tr>
        <tr><th>levels (Number)</th><td>the total number of pixelSizes allowed, used in conjuction with basePixelSize to determine how far a user is allowed to zoom</td></tr>
      </table>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>toggle | geomap</title>
  <meta name="description" content="geomap toggle method">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="toggle" class="container">
    <div data-role="header" data-theme="e">
      <h1>toggle</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>return type</th>
          <td>undefined</td>
        </tr>
        <tr>
          <th>syntax</th>
          <td>$( <i>map or service selector</i> ).geomap( &quot;toggle&quot; [ , Boolean show_or_hide ] )</td>
        </tr>
        <tr>
          <th>usage</th>
          <td><pre>$(&quot;#map&quot;).geomap( &quot;toggle&quot; )
$(&quot;#map .osm&quot;).geomap( &quot;toggle&quot;, false )</pre>
          </td>
        </tr>
      </table>
      <p>This method toggles or sets the visibility property of service objects in the services array.</p>
      <p>If you call toggle directly on geomap's div element, it will apply to all services. You can target individual services using a CSS selector based on the map div id and the class supplied for the service in its service object or just the id of the service if supplied in its service object.</p>
      <pre>// for example, given the following as the map div
&lt;div id=&quot;map&quot;&gt;&lt;/div&gt;

// and initializing geomap with the following services
$(&quot;#map&quot;).geomap({
  services: [
    {
      id: &quot;water&quot;,
      class: &quot;mass-gis&quot;,
      type: &quot;shingled&quot;,
      src: function ( view ) { return null; }
    },
    {
      id: &quot;towns&quot;,
      class: &quot;mass-gis&quot;,
      type: &quot;shingled&quot;,
      src: function ( view ) { return null; }
    },
    {
      id: &quot;harbor-cruise&quot;,
      type: &quot;shingled&quot;,
      src: function ( view ) { return null; }
    }
  ]
});

// you can later hide all services
$(&quot;#map&quot;).geomap(&quot;toggle&quot;, false);

// all mass-gis services
$(&quot;#map .mass-gis&quot;).geomap(&quot;toggle&quot;, false);

// or a specific service
$(&quot;#harbor-cruise&quot;).geomap(&quot;toggle&quot;, false);</pre>
      <p>If the optional boolean value is not supplied, the visibility of the services will be toggled.</p>
      <p>The change will happen immediately and you do not need to call refresh. This is recommended over manually changing the visibility property of the service object as it does not cause other services to refresh.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>toMap | geomap</title>
  <meta name="description" content="geomap toMap method">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="toMap" class="container">
    <div data-role="header" data-theme="e">
      <h1>toMap</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>return type</th>
          <td>Array (<a href="http://geojson.org/geojson-spec.html#positions" rel="external">GeoJSON positions</a>)</td>
        </tr>
        <tr>
          <th>syntax</th>
          <td>.geomap( &quot;toMap&quot;, Array pixelPositions )</td>
        </tr>
        <tr>
          <th>usage</th>
          <td><pre>var mapPos = $(&quot;#map&quot;).geomap( &quot;toMap&quot;, [ 120, 240 ] )
var mapPositions = $(&quot;#map&quot;).geomap( &quot;toMap&quot;, [ [ 120, 240 ], [ 192, 48 ] ] )</pre></td>
        </tr>
      </table>
      <p>The toMap method takes a single pixel position (which is an array of two values: the left and top of the pixel), an array of pixel positions, an array of arrays of pixel positions, or an array of arrays of arrays of pixel positions. In other words, it accepts the pixel representation of the coordinates of any geometry up to MultiPolygon. It returns the map coordinates for all of the pixel positions.</p>
      <p>The return coordinates are in projected map units if you have previously set the bbox or center options using projected coordinates. Otherwise, they are in geodetic (lon, lat) coordinates.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>toPixel | geomap</title>
  <meta name="description" content="geomap toPixel method">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="toPixel" class="container">
    <div data-role="header" data-theme="e">
      <h1>toPixel</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>return type</th>
          <td>Array (<a href="http://geojson.org/geojson-spec.html#positions" rel="external">GeoJSON positions</a>)</td>
        </tr>
        <tr>
          <th>syntax</th>
          <td>.geomap( &quot;toPixel&quot;, Array mapPositions )</td>
        </tr>
        <tr>
          <th>usage</th>
          <td><pre>var pixelPos = $(&quot;#map&quot;).geomap( &quot;toPixel&quot;, [ -71.098709, 42.330322 ] )
var pixelPositions = $(&quot;#map&quot;).geomap( &quot;toPixel&quot;, [ [ -71.098709, 42.330322 ], [ -71.072617, 42.351608 ] ] )</pre></td>
        </tr>
      </table>
      <p>The toPixel method takes a single GeoJSON position (Point.coordinates), an array of GeoJSON positions (MultiPoint.coordinates or LineString.coordinates), an array of arrays of positions (MultiLineString.coordinates or Polygon.coordinates) or an array of arrays of arrays of positions (MultiPolygon.coordinates). It returns the pixel coordinates for all of the map positions.</p>
      <p>You can pass geodetic (lon, lat) or projected coordinates regardless of how you last set the bbox or center options.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>zoom | geomap</title>
  <meta name="description" content="geomap zoom option">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="zoom" class="container">
    <div data-role="header" data-theme="f">
      <h1>zoom</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>Number</td>
        </tr>
        <tr>
          <th>default</th>
          <td>0</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( { zoom: 0 } );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var zoom = $( <i>selector</i> ).geomap( &quot;option&quot;, &quot;zoom&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><pre>$( <i>selector</i> ).geomap( &quot;option&quot;, &quot;zoom&quot;, 7 );</pre></td>
        </tr>
      </table>

      <p>The zoom option gets or sets the current zoom of the map view.</p>

      <p>For tiled maps, the zoom option's range starts at zero and goes to either the current geomap tilingScheme's levels property minus one or the length of the tilingScheme's pixelSize array (depending on how the tilingScheme option is declared).</p>
      

      <p>For non-tiled maps, i.e., tilingScheme is null and you're using all shingled services, the zoom option is based on the ratio between sizes of the bbox and bboxMax properties. If they are equal, the zoom option is 0. Smaller bbox areas will have larger zoom values.</p>

      <p>If you attempt to initialize both zoom and bbox at the same time when creating a geomap widget, bbox will be applied and zoom will modify the final bbox.</p>

      <p>Apart from setting the zoom option directly, you can use the <a href="zoommethod.html">zoom method</a> to change the zoom by relative amounts.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>zoomFactor | geomap</title>
  <meta name="description" content="geomap zoomFactor option">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="zoomFactor" class="container">
    <div data-role="header" data-theme="f">
      <h1>zoomFactor</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>Number</td>
        </tr>
        <tr>
          <th>default</th>
          <td>2</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( {
  zoomFactor: 1.18920711500273 // fourth root of 2
} );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var zoomFactor = $( <i>selector</i> ).geomap( &quot;option&quot;, &quot;zoomFactor&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><i>read only</i></td>
        </tr>
      </table>

      <p>You can use the zoomFactor option change how the map handles zoom levels including the <a href="zoom.html">zoom option</a> and double-click zoom interaction.</p>

      <p>This is an advanced, init-only option that you don't usually need to change. The primary case where you would change this is if you have a tilingScheme where the pixelSize between zoom levels isn't a clean power of two. For example, in web mercator (the default tilingScheme) the pixelSize at zoom 0 is 156543.03392799936. At zoom 1, the pixelSize is exactly half that. With a zoomFactor of 2, double-click zoom will go directly from zoom 0 to zoom 1. Not all tilingSchemes follow this pattern and you may want to change zoomFactor so that scroll and double-click zoom behave naturally.</p>

      <p>Another case is if you want to define a tilingScheme for a non-tiled map service. Since the map service can handle any pixelSize, you may want your scroll and double-click zoom to hit more than powers of two. For example, if you set zoomFactor to 1.18920711500273 (the 4th root of 2) then it will take a user four <i>clicks</i> of the mouse wheel to zoom in to what usually only takes one. This will give a user more scale options.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>zoomMax | geomap</title>
  <meta name="description" content="geomap zoomMax option">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="zoomMax" class="container">
    <div data-role="header" data-theme="f">
      <h1>zoomMax</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>Number</td>
        </tr>
        <tr>
          <th>default</th>
          <td>Number.POSITIVE_INFINITY</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( { zoomMax: 17 } );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var zoomMax = $( <i>selector</i> ).geomap( &quot;option&quot;, &quot;zoomMax&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><pre>$( <i>selector</i> ).geomap( &quot;option&quot;, &quot;zoomMax&quot;, 7 );</pre></td>
        </tr>
      </table>

      <p>The zoomMax option gets or sets the maximum value of the <a href="zoom.html">zoom option</a> for the map.</p>

      <p>For tiled maps, this option overrides the <a href="tilingScheme.html">tilingScheme option</a> when it is smaller than what you've specified in the tilingScheme. For example, if the tilingScheme has a total of 18 levels but you set the zoomMax option to 7, the user will not be able to zoom in past level 7.</p>

      <p>For non-tiled maps, i.e., tilingScheme is null and you're using all shingled services, this option determines the maximum zoom (and therefore minimum pixelSize) a user can achieve. Without setting this option for non-tiled maps, users will be able to infinitely zoom in to fully dynamic maps which is likely not what you want. Non-tiled maps require the <a href="bboxMax.html">bboxMax option</a> to determine what zoom level 0 means. This option represents the other side of the zoom range.</p>

      <p>This option also overrides programmatic changes. If zoomMax is 7 and you try to set the zoom option to 8 using JavaScript, it will be set to 7 instead.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>zoom | geomap</title>
  <meta name="description" content="geomap zoom method">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="zoomMethod" class="container">
    <div data-role="header" data-theme="e">
      <h1>zoom</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>return type</th>
          <td>undefined</td>
        </tr>
        <tr>
          <th>syntax</th>
          <td>.geomap( &quot;zoom&quot;, Number numberOfLevels )</td>
        </tr>
        <tr>
          <th>usage</th>
          <td><pre>$(&quot;#map&quot;).geomap( &quot;zoom&quot;, 1 )
$(&quot;#map&quot;).geomap( &quot;zoom&quot;, -2 )</pre></td>
        </tr>
      </table>
      <p>The zoom method can zoom the map in or out by a given number of zoom levels. Positive values zoom the map in, negative values zoom the map out.</p>
      <p>This method will not zoom out beyond zoom level 0. If you are using a tiling scheme, this method will not zoom in past the maximum number of zoom levels defined in the tilingScheme property.</p>
      <p>This method accepts values <b>relative</b> to the map's current zoom level. This is different than the zoom property, which <b>is</b> the map's current zoom level.
        It might be useful to add an explicit plus sign when using this zoom method.</p>
      <pre>// set the map to zoom level 2
$(&quot;#map&quot;).geomap( &quot;option&quot;, &quot;zoom&quot;, 2 );

// zoom the map in 2 levels from its current zoom
$(&quot;#map&quot;).geomap( &quot;zoom&quot;, +2 );</pre>
      <p>This method does not trigger events, not even bboxchange.</p>
      <p>There is no default value. Passing null or undefined will not change the map's zoom.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>zoomMin | geomap</title>
  <meta name="description" content="geomap zoomMin option">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="../css/bootstrap.min.css" /><link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
</head>

<body>

  <div id="zoomMin" class="container">
    <div data-role="header" data-theme="f">
      <h1>zoomMin</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>Number</td>
        </tr>
        <tr>
          <th>default</th>
          <td>0</td>
        </tr>
        <tr>
          <th>init</th>
          <td><pre>$( <i>selector</i> ).geomap( { zoomMin: 5 } );</pre></td>
        </tr>
        <tr>
          <th>get</th>
          <td><pre>var zoomMin = $( <i>selector</i> ).geomap( &quot;option&quot;, &quot;zoomMin&quot; );</pre></td>
        </tr>
        <tr>
          <th>set</th>
          <td><pre>$( <i>selector</i> ).geomap( &quot;option&quot;, &quot;zoomMin&quot;, 7 );</pre></td>
        </tr>
      </table>

      <p>The zoomMin option gets or sets the smallest allowed value of the <a href="zoom.html">zoom option</a> for the map.</p>

      <p>For tiled maps, this option overrides the <a href="tilingScheme.html">tilingScheme option</a> when it is larger than zero. For example, a tilingScheme always defines what zoom level 0 is, but if you set the zoomMin option to 7, the user will not be able to zoom out past level 7.</p>

      <p>For non-tiled maps, i.e., tilingScheme is null and you're using all shingled services, this option determines the minimum zoom (and therefore maximum pixelSize) a user can achieve. Non-tiled maps require the <a href="bboxMax.html">bboxMax option</a> to determine what zoom level 0 means. This option overrides the map's ability to get to zoom level 0. It is not so useful for non-tiled maps, as you can just set a smaller bboxMax and continue using 0 as the minimum zoom.</p>

      <p>This option also overrides programmatic changes. If zoomMin is 2 and you try to set the zoom option to 0 using JavaScript, it will be set to 2 instead.</p>
    </div>
  </div> <!-- end of #container -->

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0.0-b2.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  
</body>
</html>


