<!DOCTYPE html>
<html>
<head>
  <meta name="description" content="jQuery Geo append" />
  <meta charset="utf-8" />
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2025 by ryanttb (http://jsbin.com/radif/8/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
  <meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1">
  <title>jQuery Geo append</title>

<style id="jsbin-css">
/* example style */

/* template style */

html {
  font-family: sans-serif;
  font-size: 100%;
}

#map {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}

#info {
  background: #fafafa;
  border-radius: .5em;
  box-shadow: .2em .2em .4em #222;
  font-size: .8em;
  max-width: 66%;
  padding: .25em .5em;
  position: absolute;
  left: 1em;
  top: 1em;
}

</style>
</head>
  
<body>
  
  <div id="map">
    <div id="info">Uses append to put some GeoJSON shapes on the map.</div>
  </div>
  
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="../../js/jquery.geo-1.1.0.min.js"></script>
<script>
$(function() {
  // create a map
  var map = $("#map").geomap({
    center: [ -70, 42 ],
    zoom: 6
  });

  // create a geometry collection having a
  // Point, LineString and Polygon
  var gcol = {
    type: "GeometryCollection",
    geometries: [
      {
        type: "Point",
        coordinates: [-71, 42]
      },
      {
        type: "LineString",
        coordinates: [
          [-71, 42],
          [-75, 39.5]
        ]
      },
      {
        type: "Polygon", // this Polygon has an outer ring and one hole
        coordinates: [
          [ 
            [-75, 39.7],
            [-74.8, 39.3],
            [-75.2, 39.3],
            [-75, 39.7]
          ],
          [ 
            [-75, 39.6],
            [-74.9, 39.4],
            [-75.1, 39.4],
            [-75, 39.6]
          ]
        ]
      }
    ]
  };
  
  /*
All the geometry is stored in a single GeometryCollection. This example first draws the entire collection with a broad stroked, off-white style to create a halo effect behind the real shapes. This makes them a little easier to see on the map. Then we draw each individual shape again with color. The first two have the default style which is red. For the last one, we change the color to blue.  
  */

  // append the entire collection as a single geometry
  // do not refresh the map yet, that's the false at the end
  map.geomap("append", gcol, { strokeWidth: "8px", color: "#dedede" }, false);

  // append the point
  // I'm refreshing the map just as an example
  // since true is the default, this is the same as not passing it
  // we normally would pass false because there's more append calls below
  
  // note: since the size of the oval
  // around a point is based on pixels
  // it will be the same size at all scales
  // the default style is an 8x8 circle
  map.geomap("append", gcol.geometries[0], true);

  // append the LineString
  // don't refresh the map yet,
  // this is the correct way when there's more drawing to do
  map.geomap("append", gcol.geometries[1], false);

  // append the Polygon with a blue style
  // refresh will default to true and the map will redraw
  // even if we passed false to all append calls above
  map.geomap("append", gcol.geometries[2], { color: "#00d" });


});
</script>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');



ga('require', 'displayfeatures');


</script>

</body>
</html>
  
