<!DOCTYPE html>
<html>
<head>
  <meta name="description" content="GPS tracking" />
  <meta charset="utf-8" />
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2025 by ryanttb (http://jsbin.com/ojemed/9/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
  <meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1">
  <title>GPS tracking</title>

<style id="jsbin-css">
/* example style */

/* template style */

html {
  font-family: sans-serif;
  font-size: 100%;
}

#map {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}

#info {
  background: #fafafa;
  border-radius: .5em;
  box-shadow: .2em .2em .4em #222;
  font-size: .8em;
  max-width: 66%;
  padding: .25em .5em;
  position: absolute;
  left: 1em;
  top: 1em;
}

</style>
</head>
  
<body>
  
  <div id="map">
    <div id="info">
      <p>Following your device's GPS on Esri World Basemap.</p>
      <p id="nogeo" style="display:none;"><b>Note:</b> GPS tracking on jsbin no longer works in Chrome or Opera :/ We will try to update this example.</p>
    </div>
  </div>
  
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="../../js/jquery.geo-1.1.0.min.js"></script>
<script>
$(function() {
  // create a map
  var map = null;
  
  function initMap(center) {
    if ( !center ) {
      $( '#nogeo' ).show();
    }
    
    // create a map, shut off interaction
    map = $("#map").geomap({
      center: center || [-71.0597732, 42.3584308],
      zoom: 15,
      mode: "static", //< this example is display-only; disable user interaction
      
      // use an Esri map service to match the original sample
      services: [
        {
          type: "tiled",
          src: "http://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{{:zoom}}/{{:tile.row}}/{{:tile.column}}",
          attr: "&copy; Esri"
        }
      ]
    });
  }
  
  if (navigator.geolocation) {
    navigator.geolocation.watchPosition( function (p) {
      // convert lon, lat into a GeoJSON coordinate
      coord = [p.coords.longitude, p.coords.latitude];
      if (!map) {
        initMap(coord);
      } else {
        map.geomap("option", "center", coord);
      }
      
      map.geomap("empty", false);
      var accuracyBuffer = p.coords.accuracy / map.geomap("option", "pixelSize");
      map.geomap("append", { type: "Point", coordinates: coord }, { color: "#cc0", width: accuracyBuffer, height: accuracyBuffer, borderRadius: accuracyBuffer }, false);
      map.geomap("append", { type: "Point", coordinates: coord });
    }, function (error) {
      if ( !map ) {
        initMap();
      }
    }, {
      enableHighAccuracy: true,
      maximumAge: 10000
    } );
  } else {
    initMap();
  }
});
</script>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');



ga('require', 'displayfeatures');


</script>

</body>
</html>
  
